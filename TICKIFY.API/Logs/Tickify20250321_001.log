2025-03-21 09:50:16.325 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 09:50:16.434 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 09:50:16.445 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 09:50:16.450 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 09:50:16.473 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 09:50:16.502 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 09:50:16.507 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 09:50:16.924 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 09:50:16.947 +02:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-03-21 09:50:16.992 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
2025-03-21 09:50:17.070 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 09:50:17.114 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 09:50:17.180 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 09:50:17.189 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 09:50:17.195 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 09:50:17.488 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5032: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-03-21 09:51:32.645 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 09:51:32.731 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 09:51:32.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 09:51:32.742 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 09:51:32.762 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 09:51:32.784 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 09:51:32.789 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 09:51:33.073 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 09:51:33.091 +02:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-03-21 09:51:33.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
2025-03-21 09:51:33.170 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 09:51:33.192 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 09:51:33.231 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 09:51:33.240 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 09:51:33.243 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 09:51:33.513 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 09:51:33.563 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 09:51:33.571 +02:00 [INF] Hosting environment: Development
2025-03-21 09:51:33.573 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 09:51:33.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-03-21 09:51:34.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 307.6757ms
2025-03-21 09:51:34.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-03-21 09:51:34.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-03-21 09:51:34.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 14.3801ms
2025-03-21 09:51:34.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.2862ms
2025-03-21 09:51:34.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-03-21 09:51:34.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.6333ms
2025-03-21 09:51:40.363 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver - null null
2025-03-21 09:51:40.377 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 09:51:40.396 +02:00 [INF] Route matched with {action = "GetAllDrivers", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDrivers() on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 09:51:40.474 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
2025-03-21 09:51:40.488 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Driver, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 09:51:40.497 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API) in 94.9861ms
2025-03-21 09:51:40.500 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 09:51:40.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver - 200 null application/json; charset=utf-8 143.7736ms
2025-03-21 09:51:50.141 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel - null null
2025-03-21 09:51:50.155 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 09:51:50.162 +02:00 [INF] Route matched with {action = "GetAllHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllHotels() on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 09:51:50.253 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-21 09:51:50.266 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM [Hotels] AS [h]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
ORDER BY [h].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 09:51:50.298 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Hotel, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 09:51:50.308 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API) in 141.2728ms
2025-03-21 09:51:50.311 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 09:51:50.313 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel - 200 null application/json; charset=utf-8 171.851ms
2025-03-21 09:52:21.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation - null null
2025-03-21 09:52:21.867 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-03-21 09:52:21.871 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations() on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-03-21 09:52:21.891 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[HotelId], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[ReservationDetailsId], [r].[HotelReservationId], [r].[RoomId]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [ReservationDetails] AS [r] ON [h].[HotelReservationId] = [r].[HotelReservationId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId]
2025-03-21 09:52:21.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.HotelReservation, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 09:52:21.895 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 20.9344ms
2025-03-21 09:52:21.897 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-03-21 09:52:21.899 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation - 200 null application/json; charset=utf-8 42.4562ms
2025-03-21 09:52:37.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/1 - null null
2025-03-21 09:52:37.030 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API)'
2025-03-21 09:52:37.041 +02:00 [INF] Route matched with {action = "GetRoomsByHotel", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByHotel(Int32) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-03-21 09:52:37.091 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__hotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__hotelId_0
2025-03-21 09:52:37.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Room, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 09:52:37.097 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API) in 52.998ms
2025-03-21 09:52:37.099 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API)'
2025-03-21 09:52:37.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 80.558ms
2025-03-21 09:52:55.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/room/1 - null null
2025-03-21 09:52:55.836 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-03-21 09:52:55.840 +02:00 [INF] Route matched with {action = "GetRoomById", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomById(Int32) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-03-21 09:52:55.868 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[RoomId], [t].[BedCount], [t].[DateIn], [t].[DateOut], [t].[HotelId], [t].[PricePerNight], [t].[RoomNumber], [t].[Type], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r0].[ReservationDetailsId], [r0].[HotelReservationId], [r0].[RoomId]
FROM (
    SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [h].[HotelId] AS [HotelId0], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Rooms] AS [r]
    INNER JOIN [Hotels] AS [h] ON [r].[HotelId] = [h].[HotelId]
    WHERE [r].[RoomId] = @__id_0
) AS [t]
LEFT JOIN [ReservationDetails] AS [r0] ON [t].[RoomId] = [r0].[RoomId]
ORDER BY [t].[RoomId], [t].[HotelId0]
2025-03-21 09:52:55.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Room'.
2025-03-21 09:52:55.877 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API) in 33.5739ms
2025-03-21 09:52:55.878 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-03-21 09:52:55.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/room/1 - 200 null application/json; charset=utf-8 52.1269ms
2025-03-21 10:07:32.678 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:07:35.766 +02:00 [INF] Executed DbCommand (3,025ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-03-21 10:07:35.801 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [TickifyDB];
2025-03-21 10:07:45.980 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TickifyDB];
2025-03-21 10:07:46.077 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-03-21 10:07:46.096 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:07:46.146 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-03-21 10:07:46.151 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:07:46.164 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:07:46.175 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 10:07:46.190 +02:00 [INF] Applying migration '20250316033800_initial_Db_creation_migration'.
2025-03-21 10:07:46.226 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [StarRating] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId])
);
2025-03-21 10:07:46.232 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Drivers] (
    [DriverId] int NOT NULL IDENTITY,
    [DriverName] nvarchar(100) NOT NULL,
    [CarType] nvarchar(50) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [StarRating] int NOT NULL DEFAULT 5,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Drivers] PRIMARY KEY ([DriverId]),
    CONSTRAINT [FK_Drivers_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 10:07:46.236 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [HotelReservations] (
    [HotelReservationId] int NOT NULL IDENTITY,
    [CheckInDate] datetime2 NOT NULL,
    [CheckOutDate] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_HotelReservations] PRIMARY KEY ([HotelReservationId]),
    CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE NO ACTION
);
2025-03-21 10:07:46.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] int NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [Type] nvarchar(100) NOT NULL,
    [BedCount] int NOT NULL,
    [PricePerNight] decimal(10,2) NOT NULL,
    [DateIn] datetime2 NOT NULL,
    [DateOut] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 10:07:46.245 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ReservationDetails] (
    [ReservationDetailsId] int NOT NULL IDENTITY,
    [RoomId] int NOT NULL,
    [HotelReservationId] int NOT NULL,
    CONSTRAINT [PK_ReservationDetails] PRIMARY KEY ([ReservationDetailsId]),
    CONSTRAINT [FK_ReservationDetails_HotelReservations_HotelReservationId] FOREIGN KEY ([HotelReservationId]) REFERENCES [HotelReservations] ([HotelReservationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ReservationDetails_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE NO ACTION
);
2025-03-21 10:07:46.249 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Drivers_HotelId] ON [Drivers] ([HotelId]);
2025-03-21 10:07:46.252 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_HotelReservations_HotelId] ON [HotelReservations] ([HotelId]);
2025-03-21 10:07:46.255 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_HotelReservationId] ON [ReservationDetails] ([HotelReservationId]);
2025-03-21 10:07:46.259 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_RoomId] ON [ReservationDetails] ([RoomId]);
2025-03-21 10:07:46.262 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-03-21 10:07:46.266 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316033800_initial_Db_creation_migration', N'8.0.14');
2025-03-21 10:07:46.275 +02:00 [INF] Applying migration '20250316034405_UpdateHotelReservationsCascade'.
2025-03-21 10:07:46.289 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] DROP CONSTRAINT [FK_HotelReservations_Hotels_HotelId];
2025-03-21 10:07:46.294 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] ADD CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE;
2025-03-21 10:07:46.296 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316034405_UpdateHotelReservationsCascade', N'8.0.14');
2025-03-21 10:07:46.300 +02:00 [INF] Applying migration '20250318232816_SeedData'.
2025-03-21 10:07:46.310 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250318232816_SeedData', N'8.0.14');
2025-03-21 10:07:46.314 +02:00 [INF] Applying migration '20250319043200_MigrationName'.
2025-03-21 10:07:46.324 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319043200_MigrationName', N'8.0.14');
2025-03-21 10:07:46.328 +02:00 [INF] Applying migration '20250319045100_seeding_migration'.
2025-03-21 10:07:46.338 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319045100_seeding_migration', N'8.0.14');
2025-03-21 10:07:56.448 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:07:56.533 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:07:56.541 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:07:56.545 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:07:56.565 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 10:07:56.588 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 10:07:56.592 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 10:07:56.824 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:07:56.955 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Location], [Name], [StarRating])
VALUES (i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-03-21 10:07:56.994 +02:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-03-21 10:07:57.035 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
2025-03-21 10:07:57.048 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:07:57.108 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Rooms] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1)) AS i ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Type], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Type])
VALUES (i.[BedCount], i.[DateIn], i.[DateOut], i.[HotelId], i.[PricePerNight], i.[RoomNumber], i.[Type])
OUTPUT INSERTED.[RoomId], i._Position;
2025-03-21 10:07:57.131 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:07:57.165 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 10:07:57.172 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:07:57.176 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 10:07:57.274 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 10:07:57.278 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 10:07:57.279 +02:00 [INF] Hosting environment: Development
2025-03-21 10:07:57.280 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 10:21:38.190 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:21:38.292 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:21:38.304 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:21:38.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:21:38.336 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 10:21:38.359 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 10:21:38.365 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 10:21:38.710 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:21:38.741 +02:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-03-21 10:21:38.779 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
2025-03-21 10:21:38.840 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:21:38.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:21:38.938 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 10:21:38.950 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:21:38.957 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 10:21:39.384 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 10:21:39.450 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 10:21:39.463 +02:00 [INF] Hosting environment: Development
2025-03-21 10:21:39.469 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 10:21:39.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-03-21 10:21:40.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 361.7268ms
2025-03-21 10:21:40.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-03-21 10:21:40.325 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-03-21 10:21:40.352 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 27.6739ms
2025-03-21 10:21:40.380 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.6455ms
2025-03-21 10:21:40.590 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-03-21 10:21:40.717 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.1588ms
2025-03-21 10:22:19.617 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Driver/2 - application/json 97
2025-03-21 10:22:19.630 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:22:19.638 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:22:19.669 +02:00 [INF] Route matched with {action = "UpdateDriver", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriver(Int32, TICKIFY.API.Contracts.Requests.DriverReq) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 10:22:19.842 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-03-21 10:22:19.862 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-21 10:22:19.893 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API) in 212.5779ms
2025-03-21 10:22:19.898 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:22:19.907 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Driver/2 - 404 null application/problem+json; charset=utf-8 289.8217ms
2025-03-21 10:22:31.261 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Driver/2 - application/json 97
2025-03-21 10:22:31.274 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:22:31.277 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:22:31.282 +02:00 [INF] Route matched with {action = "UpdateDriver", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriver(Int32, TICKIFY.API.Contracts.Requests.DriverReq) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 10:22:31.367 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-03-21 10:22:31.375 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-21 10:22:31.380 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API) in 90.5882ms
2025-03-21 10:22:31.384 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:22:31.386 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Driver/2 - 404 null application/problem+json; charset=utf-8 125.4537ms
2025-03-21 10:23:49.906 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Driver - application/json 94
2025-03-21 10:23:49.917 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:23:49.919 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.CreateDriver (TICKIFY.API)'
2025-03-21 10:23:49.924 +02:00 [INF] Route matched with {action = "CreateDriver", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDriver(TICKIFY.API.Contracts.Requests.DriverReq) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 10:23:50.104 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Location], [Name], [StarRating])
OUTPUT INSERTED.[HotelId]
VALUES (@p0, @p1, @p2);
2025-03-21 10:23:50.144 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (Size = 50), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Drivers] ([CarType], [DriverName], [HotelId], [Price], [StarRating])
OUTPUT INSERTED.[DriverId]
VALUES (@p3, @p4, @p5, @p6, @p7);
2025-03-21 10:23:50.168 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'TICKIFY.Core.Entities.Driver'.
2025-03-21 10:23:50.192 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.CreateDriver (TICKIFY.API) in 260.6531ms
2025-03-21 10:23:50.197 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.CreateDriver (TICKIFY.API)'
2025-03-21 10:23:50.199 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Driver - 201 null application/json; charset=utf-8 293.4148ms
2025-03-21 10:24:50.349 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Driver/1 - application/json 98
2025-03-21 10:24:50.359 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:24:50.362 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:24:50.364 +02:00 [INF] Route matched with {action = "UpdateDriver", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriver(Int32, TICKIFY.API.Contracts.Requests.DriverReq) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 10:24:50.382 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-03-21 10:24:50.430 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Drivers] SET [CarType] = @p0, [DriverName] = @p1, [HotelId] = @p2, [Price] = @p3, [StarRating] = @p4
OUTPUT 1
WHERE [DriverId] = @p5;
2025-03-21 10:24:50.446 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Driver'.
2025-03-21 10:24:50.454 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API) in 84.0901ms
2025-03-21 10:24:50.461 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:24:50.467 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Driver/1 - 200 null application/json; charset=utf-8 117.749ms
2025-03-21 10:25:06.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver/1 - null null
2025-03-21 10:25:06.419 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API)'
2025-03-21 10:25:06.427 +02:00 [INF] Route matched with {action = "GetDriverById", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDriverById(Int32) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 10:25:06.439 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-03-21 10:25:06.452 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Driver'.
2025-03-21 10:25:06.454 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API) in 21.3363ms
2025-03-21 10:25:06.458 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API)'
2025-03-21 10:25:06.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver/1 - 200 null application/json; charset=utf-8 50.7657ms
2025-03-21 10:25:18.233 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel - null null
2025-03-21 10:25:18.241 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 10:25:18.245 +02:00 [INF] Route matched with {action = "GetAllHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllHotels() on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:25:18.289 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-21 10:25:18.311 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM [Hotels] AS [h]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
ORDER BY [h].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 10:25:18.355 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Hotel, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 10:25:18.370 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API) in 119.4812ms
2025-03-21 10:25:18.375 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 10:25:18.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel - 200 null application/json; charset=utf-8 144.8338ms
2025-03-21 10:26:22.929 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Hotel - application/json 231
2025-03-21 10:26:22.942 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:26:22.944 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.CreateHotel (TICKIFY.API)'
2025-03-21 10:26:22.950 +02:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(TICKIFY.API.Contracts.Requests.HotelReq) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:26:22.973 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Location], [Name], [StarRating])
OUTPUT INSERTED.[HotelId]
VALUES (@p0, @p1, @p2);
2025-03-21 10:26:22.979 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'TICKIFY.Core.Entities.Hotel'.
2025-03-21 10:26:22.981 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.CreateHotel (TICKIFY.API) in 24.8739ms
2025-03-21 10:26:22.984 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.CreateHotel (TICKIFY.API)'
2025-03-21 10:26:22.987 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Hotel - 201 null application/json; charset=utf-8 58.0044ms
2025-03-21 10:26:39.447 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/8 - null null
2025-03-21 10:26:39.458 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:26:39.463 +02:00 [INF] Route matched with {action = "GetHotelById", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelById(Int32) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:26:39.488 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-21 10:26:39.506 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [t].[HotelId] = [h0].[HotelId]
ORDER BY [t].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 10:26:39.518 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-21 10:26:39.525 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API) in 57.4549ms
2025-03-21 10:26:39.531 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:26:39.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/8 - 404 null application/problem+json; charset=utf-8 89.8042ms
2025-03-21 10:27:33.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/5 - null null
2025-03-21 10:27:33.957 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:27:33.958 +02:00 [INF] Route matched with {action = "GetHotelById", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelById(Int32) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:27:33.970 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [t].[HotelId] = [h0].[HotelId]
ORDER BY [t].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 10:27:33.981 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Hotel'.
2025-03-21 10:27:33.984 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API) in 24.2077ms
2025-03-21 10:27:33.989 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:27:33.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/5 - 200 null application/json; charset=utf-8 49.3616ms
2025-03-21 10:28:57.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/1 - null null
2025-03-21 10:28:57.455 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:28:57.460 +02:00 [INF] Route matched with {action = "GetHotelById", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelById(Int32) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:28:57.476 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [t].[HotelId] = [h0].[HotelId]
ORDER BY [t].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 10:28:57.483 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Hotel'.
2025-03-21 10:28:57.485 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API) in 18.9309ms
2025-03-21 10:28:57.489 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:28:57.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/1 - 200 null application/json; charset=utf-8 50.0988ms
2025-03-21 10:29:38.098 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Hotel - application/json 231
2025-03-21 10:29:38.114 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:29:38.117 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.CreateHotel (TICKIFY.API)'
2025-03-21 10:29:38.120 +02:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(TICKIFY.API.Contracts.Requests.HotelReq) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:29:38.132 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Location], [Name], [StarRating])
OUTPUT INSERTED.[HotelId]
VALUES (@p0, @p1, @p2);
2025-03-21 10:29:38.145 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'TICKIFY.Core.Entities.Hotel'.
2025-03-21 10:29:38.149 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.CreateHotel (TICKIFY.API) in 24.693ms
2025-03-21 10:29:38.152 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.CreateHotel (TICKIFY.API)'
2025-03-21 10:29:38.153 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Hotel - 201 null application/json; charset=utf-8 55.4922ms
2025-03-21 10:30:02.091 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Driver/1 - application/json 98
2025-03-21 10:30:02.102 +02:00 [INF] CORS policy execution successful.
2025-03-21 10:30:02.103 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:30:02.105 +02:00 [INF] Route matched with {action = "UpdateDriver", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriver(Int32, TICKIFY.API.Contracts.Requests.DriverReq) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 10:30:02.117 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-03-21 10:30:02.135 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Drivers] SET [CarType] = @p0, [DriverName] = @p1, [HotelId] = @p2, [Price] = @p3, [StarRating] = @p4
OUTPUT 1
WHERE [DriverId] = @p5;
2025-03-21 10:30:02.140 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Driver'.
2025-03-21 10:30:02.144 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API) in 37.4323ms
2025-03-21 10:30:02.149 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-03-21 10:30:02.152 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Driver/1 - 200 null application/json; charset=utf-8 61.8188ms
2025-03-21 10:30:07.006 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/1 - null null
2025-03-21 10:30:07.021 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:30:07.022 +02:00 [INF] Route matched with {action = "GetHotelById", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelById(Int32) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 10:30:07.036 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [t].[HotelId] = [h0].[HotelId]
ORDER BY [t].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 10:30:07.042 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Hotel'.
2025-03-21 10:30:07.044 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API) in 17.36ms
2025-03-21 10:30:07.048 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelById (TICKIFY.API)'
2025-03-21 10:30:07.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/1 - 200 null application/json; charset=utf-8 42.8304ms
2025-03-21 10:38:18.901 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:38:18.982 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:38:18.994 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:38:19.001 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:38:19.022 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 10:38:19.048 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 10:38:19.053 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 10:38:19.291 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:38:19.314 +02:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-03-21 10:38:19.348 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
2025-03-21 10:38:19.400 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:38:19.438 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:38:19.484 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 10:38:19.494 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:38:19.502 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 10:38:19.623 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 10:38:19.627 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 10:38:19.630 +02:00 [INF] Hosting environment: Development
2025-03-21 10:38:19.632 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 10:43:03.226 +02:00 [INF] Application is shutting down...
2025-03-21 10:43:24.131 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:43:24.221 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:43:24.234 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:43:24.240 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:43:24.262 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 10:43:24.287 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 10:43:24.293 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 10:43:24.558 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:43:24.583 +02:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-03-21 10:43:24.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
2025-03-21 10:43:24.679 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:43:24.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:43:24.766 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 10:43:24.776 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:43:24.783 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 10:43:24.914 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 10:43:24.917 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 10:43:24.919 +02:00 [INF] Hosting environment: Development
2025-03-21 10:43:24.921 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 10:58:46.018 +02:00 [INF] Application is shutting down...
2025-03-21 10:59:00.846 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:59:00.927 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:59:00.937 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 10:59:00.943 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 10:59:00.962 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 10:59:00.985 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 10:59:00.990 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 10:59:01.226 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:59:01.283 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 10:59:01.332 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:59:01.341 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 10:59:01.352 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 10:59:01.395 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 10:59:01.410 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 10:59:01.418 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 10:59:01.519 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 10:59:01.522 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 10:59:01.525 +02:00 [INF] Hosting environment: Development
2025-03-21 10:59:01.526 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 11:03:17.579 +02:00 [INF] Application is shutting down...
2025-03-21 11:03:28.547 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 11:03:28.624 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 11:03:28.632 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 11:03:28.637 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 11:03:28.659 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 11:03:28.679 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 11:03:28.685 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 11:03:28.945 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 11:03:29.011 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 11:03:29.062 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 11:03:29.077 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 11:03:29.089 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 11:03:29.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 11:03:29.154 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 11:03:29.159 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 11:03:29.266 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 11:03:29.269 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 11:03:29.273 +02:00 [INF] Hosting environment: Development
2025-03-21 11:03:29.275 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:06:24.268 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:06:24.376 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-03-21 18:06:24.452 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [TickifyDB];
2025-03-21 18:06:59.145 +02:00 [INF] Executed DbCommand (389ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TickifyDB];
2025-03-21 18:06:59.340 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-03-21 18:06:59.379 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:06:59.478 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-03-21 18:06:59.485 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:06:59.532 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:06:59.559 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:06:59.598 +02:00 [INF] Applying migration '20250316033800_initial_Db_creation_migration'.
2025-03-21 18:06:59.672 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [StarRating] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId])
);
2025-03-21 18:06:59.689 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Drivers] (
    [DriverId] int NOT NULL IDENTITY,
    [DriverName] nvarchar(100) NOT NULL,
    [CarType] nvarchar(50) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [StarRating] int NOT NULL DEFAULT 5,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Drivers] PRIMARY KEY ([DriverId]),
    CONSTRAINT [FK_Drivers_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 18:06:59.704 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [HotelReservations] (
    [HotelReservationId] int NOT NULL IDENTITY,
    [CheckInDate] datetime2 NOT NULL,
    [CheckOutDate] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_HotelReservations] PRIMARY KEY ([HotelReservationId]),
    CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE NO ACTION
);
2025-03-21 18:06:59.719 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] int NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [Type] nvarchar(100) NOT NULL,
    [BedCount] int NOT NULL,
    [PricePerNight] decimal(10,2) NOT NULL,
    [DateIn] datetime2 NOT NULL,
    [DateOut] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 18:06:59.732 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ReservationDetails] (
    [ReservationDetailsId] int NOT NULL IDENTITY,
    [RoomId] int NOT NULL,
    [HotelReservationId] int NOT NULL,
    CONSTRAINT [PK_ReservationDetails] PRIMARY KEY ([ReservationDetailsId]),
    CONSTRAINT [FK_ReservationDetails_HotelReservations_HotelReservationId] FOREIGN KEY ([HotelReservationId]) REFERENCES [HotelReservations] ([HotelReservationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ReservationDetails_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE NO ACTION
);
2025-03-21 18:06:59.742 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Drivers_HotelId] ON [Drivers] ([HotelId]);
2025-03-21 18:06:59.749 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_HotelReservations_HotelId] ON [HotelReservations] ([HotelId]);
2025-03-21 18:06:59.753 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_HotelReservationId] ON [ReservationDetails] ([HotelReservationId]);
2025-03-21 18:06:59.759 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_RoomId] ON [ReservationDetails] ([RoomId]);
2025-03-21 18:06:59.765 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-03-21 18:06:59.775 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316033800_initial_Db_creation_migration', N'8.0.14');
2025-03-21 18:06:59.796 +02:00 [INF] Applying migration '20250316034405_UpdateHotelReservationsCascade'.
2025-03-21 18:06:59.830 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] DROP CONSTRAINT [FK_HotelReservations_Hotels_HotelId];
2025-03-21 18:06:59.843 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] ADD CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE;
2025-03-21 18:06:59.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316034405_UpdateHotelReservationsCascade', N'8.0.14');
2025-03-21 18:06:59.867 +02:00 [INF] Applying migration '20250318232816_SeedData'.
2025-03-21 18:06:59.898 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250318232816_SeedData', N'8.0.14');
2025-03-21 18:06:59.909 +02:00 [INF] Applying migration '20250319043200_MigrationName'.
2025-03-21 18:06:59.936 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319043200_MigrationName', N'8.0.14');
2025-03-21 18:06:59.944 +02:00 [INF] Applying migration '20250319045100_seeding_migration'.
2025-03-21 18:06:59.965 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319045100_seeding_migration', N'8.0.14');
2025-03-21 18:07:14.949 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:07:15.034 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:07:15.045 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:07:15.054 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:07:15.073 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:07:15.094 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 18:07:15.100 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 18:07:15.396 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:07:15.588 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Location], [Name], [StarRating])
VALUES (i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-03-21 18:07:15.642 +02:00 [ERR] ❌ Error during migration/seeding: The JSON value could not be converted to System.Decimal. Path: $[0].PricePerNight | LineNumber: 6 | BytePositionInLine: 27.
2025-03-21 18:07:15.787 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 18:07:15.797 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 18:07:15.802 +02:00 [INF] Hosting environment: Development
2025-03-21 18:07:15.807 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:11:52.396 +02:00 [INF] Application is shutting down...
2025-03-21 18:12:02.547 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:12:02.626 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:12:02.636 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:12:02.643 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:12:02.676 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:12:02.703 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 18:12:02.709 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 18:12:02.978 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:12:03.056 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:12:03.124 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:12:03.320 +02:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Rooms] ([RoomId], [BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-03-21 18:12:03.351 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.Infrastracture.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Rooms' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:697edecd-4069-4610-ac80-48aa952a802d
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Rooms' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:697edecd-4069-4610-ac80-48aa952a802d
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-21 18:12:03.369 +02:00 [ERR] ❌ Error during migration/seeding: An error occurred while saving the entity changes. See the inner exception for details.
2025-03-21 18:12:03.512 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 18:12:03.516 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 18:12:03.520 +02:00 [INF] Hosting environment: Development
2025-03-21 18:12:03.523 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:12:44.930 +02:00 [INF] Application is shutting down...
2025-03-21 18:13:11.176 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:13:14.297 +02:00 [INF] Executed DbCommand (3,019ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-03-21 18:13:14.374 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [TickifyDB];
2025-03-21 18:13:35.969 +02:00 [INF] Executed DbCommand (326ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TickifyDB];
2025-03-21 18:13:36.167 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-03-21 18:13:36.210 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:13:36.283 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-03-21 18:13:36.293 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:13:36.313 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:13:36.335 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:13:36.369 +02:00 [INF] Applying migration '20250316033800_initial_Db_creation_migration'.
2025-03-21 18:13:36.425 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [StarRating] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId])
);
2025-03-21 18:13:36.436 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Drivers] (
    [DriverId] int NOT NULL IDENTITY,
    [DriverName] nvarchar(100) NOT NULL,
    [CarType] nvarchar(50) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [StarRating] int NOT NULL DEFAULT 5,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Drivers] PRIMARY KEY ([DriverId]),
    CONSTRAINT [FK_Drivers_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 18:13:36.446 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [HotelReservations] (
    [HotelReservationId] int NOT NULL IDENTITY,
    [CheckInDate] datetime2 NOT NULL,
    [CheckOutDate] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_HotelReservations] PRIMARY KEY ([HotelReservationId]),
    CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE NO ACTION
);
2025-03-21 18:13:36.455 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] int NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [Type] nvarchar(100) NOT NULL,
    [BedCount] int NOT NULL,
    [PricePerNight] decimal(10,2) NOT NULL,
    [DateIn] datetime2 NOT NULL,
    [DateOut] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 18:13:36.465 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ReservationDetails] (
    [ReservationDetailsId] int NOT NULL IDENTITY,
    [RoomId] int NOT NULL,
    [HotelReservationId] int NOT NULL,
    CONSTRAINT [PK_ReservationDetails] PRIMARY KEY ([ReservationDetailsId]),
    CONSTRAINT [FK_ReservationDetails_HotelReservations_HotelReservationId] FOREIGN KEY ([HotelReservationId]) REFERENCES [HotelReservations] ([HotelReservationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ReservationDetails_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE NO ACTION
);
2025-03-21 18:13:36.479 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Drivers_HotelId] ON [Drivers] ([HotelId]);
2025-03-21 18:13:36.491 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_HotelReservations_HotelId] ON [HotelReservations] ([HotelId]);
2025-03-21 18:13:36.498 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_HotelReservationId] ON [ReservationDetails] ([HotelReservationId]);
2025-03-21 18:13:36.502 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_RoomId] ON [ReservationDetails] ([RoomId]);
2025-03-21 18:13:36.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-03-21 18:13:36.515 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316033800_initial_Db_creation_migration', N'8.0.14');
2025-03-21 18:13:36.528 +02:00 [INF] Applying migration '20250316034405_UpdateHotelReservationsCascade'.
2025-03-21 18:13:36.547 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] DROP CONSTRAINT [FK_HotelReservations_Hotels_HotelId];
2025-03-21 18:13:36.554 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] ADD CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE;
2025-03-21 18:13:36.559 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316034405_UpdateHotelReservationsCascade', N'8.0.14');
2025-03-21 18:13:36.565 +02:00 [INF] Applying migration '20250318232816_SeedData'.
2025-03-21 18:13:36.593 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250318232816_SeedData', N'8.0.14');
2025-03-21 18:13:36.605 +02:00 [INF] Applying migration '20250319043200_MigrationName'.
2025-03-21 18:13:36.632 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319043200_MigrationName', N'8.0.14');
2025-03-21 18:13:36.644 +02:00 [INF] Applying migration '20250319045100_seeding_migration'.
2025-03-21 18:13:36.658 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319045100_seeding_migration', N'8.0.14');
2025-03-21 18:13:47.476 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:13:47.579 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:13:47.588 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:13:47.596 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:13:47.612 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:13:47.633 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 18:13:47.639 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 18:13:47.939 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:13:48.100 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Location], [Name], [StarRating])
VALUES (i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-03-21 18:13:48.187 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:13:48.200 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:13:48.263 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Rooms] ([RoomId], [BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-03-21 18:13:48.322 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.Infrastracture.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Rooms' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:878dad85-4e73-4cf3-9c72-e2c5aabdeb94
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Rooms' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:878dad85-4e73-4cf3-9c72-e2c5aabdeb94
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-21 18:13:48.357 +02:00 [ERR] ❌ Error during migration/seeding: An error occurred while saving the entity changes. See the inner exception for details.
2025-03-21 18:13:48.485 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 18:13:48.488 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 18:13:48.491 +02:00 [INF] Hosting environment: Development
2025-03-21 18:13:48.494 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:16:26.344 +02:00 [INF] Application is shutting down...
2025-03-21 18:16:52.052 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:16:52.142 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-03-21 18:16:52.208 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [TickifyDB];
2025-03-21 18:17:13.972 +02:00 [INF] Executed DbCommand (319ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TickifyDB];
2025-03-21 18:17:14.182 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TickifyDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-03-21 18:17:14.230 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:17:14.318 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-03-21 18:17:14.333 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:17:14.375 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:17:14.399 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:17:14.435 +02:00 [INF] Applying migration '20250316033800_initial_Db_creation_migration'.
2025-03-21 18:17:14.501 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [StarRating] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId])
);
2025-03-21 18:17:14.516 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Drivers] (
    [DriverId] int NOT NULL IDENTITY,
    [DriverName] nvarchar(100) NOT NULL,
    [CarType] nvarchar(50) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [StarRating] int NOT NULL DEFAULT 5,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Drivers] PRIMARY KEY ([DriverId]),
    CONSTRAINT [FK_Drivers_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 18:17:14.532 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [HotelReservations] (
    [HotelReservationId] int NOT NULL IDENTITY,
    [CheckInDate] datetime2 NOT NULL,
    [CheckOutDate] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_HotelReservations] PRIMARY KEY ([HotelReservationId]),
    CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE NO ACTION
);
2025-03-21 18:17:14.548 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] int NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [Type] nvarchar(100) NOT NULL,
    [BedCount] int NOT NULL,
    [PricePerNight] decimal(10,2) NOT NULL,
    [DateIn] datetime2 NOT NULL,
    [DateOut] datetime2 NOT NULL,
    [HotelId] int NOT NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-03-21 18:17:14.560 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ReservationDetails] (
    [ReservationDetailsId] int NOT NULL IDENTITY,
    [RoomId] int NOT NULL,
    [HotelReservationId] int NOT NULL,
    CONSTRAINT [PK_ReservationDetails] PRIMARY KEY ([ReservationDetailsId]),
    CONSTRAINT [FK_ReservationDetails_HotelReservations_HotelReservationId] FOREIGN KEY ([HotelReservationId]) REFERENCES [HotelReservations] ([HotelReservationId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_ReservationDetails_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE NO ACTION
);
2025-03-21 18:17:14.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Drivers_HotelId] ON [Drivers] ([HotelId]);
2025-03-21 18:17:14.570 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_HotelReservations_HotelId] ON [HotelReservations] ([HotelId]);
2025-03-21 18:17:14.575 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_HotelReservationId] ON [ReservationDetails] ([HotelReservationId]);
2025-03-21 18:17:14.580 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ReservationDetails_RoomId] ON [ReservationDetails] ([RoomId]);
2025-03-21 18:17:14.584 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-03-21 18:17:14.592 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316033800_initial_Db_creation_migration', N'8.0.14');
2025-03-21 18:17:14.615 +02:00 [INF] Applying migration '20250316034405_UpdateHotelReservationsCascade'.
2025-03-21 18:17:14.651 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] DROP CONSTRAINT [FK_HotelReservations_Hotels_HotelId];
2025-03-21 18:17:14.665 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [HotelReservations] ADD CONSTRAINT [FK_HotelReservations_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE;
2025-03-21 18:17:14.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250316034405_UpdateHotelReservationsCascade', N'8.0.14');
2025-03-21 18:17:14.679 +02:00 [INF] Applying migration '20250318232816_SeedData'.
2025-03-21 18:17:14.694 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250318232816_SeedData', N'8.0.14');
2025-03-21 18:17:14.700 +02:00 [INF] Applying migration '20250319043200_MigrationName'.
2025-03-21 18:17:14.714 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319043200_MigrationName', N'8.0.14');
2025-03-21 18:17:14.724 +02:00 [INF] Applying migration '20250319045100_seeding_migration'.
2025-03-21 18:17:14.745 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250319045100_seeding_migration', N'8.0.14');
2025-03-21 18:17:24.391 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:17:24.470 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:17:24.478 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:17:24.486 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:17:24.514 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:17:24.543 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 18:17:24.553 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 18:17:24.867 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:17:25.064 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Location], [Name], [StarRating])
VALUES (i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-03-21 18:17:25.157 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:17:25.171 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:17:25.262 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Rooms] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1)) AS i ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Type], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Type])
VALUES (i.[BedCount], i.[DateIn], i.[DateOut], i.[HotelId], i.[PricePerNight], i.[RoomNumber], i.[Type])
OUTPUT INSERTED.[RoomId], i._Position;
2025-03-21 18:17:25.285 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:17:25.305 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:17:25.356 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 50), @p11='?' (Size = 100), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Drivers] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2)) AS i ([CarType], [DriverName], [HotelId], [Price], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CarType], [DriverName], [HotelId], [Price], [StarRating])
VALUES (i.[CarType], i.[DriverName], i.[HotelId], i.[Price], i.[StarRating])
OUTPUT INSERTED.[DriverId], i._Position;
2025-03-21 18:17:25.430 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 18:17:25.458 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 18:17:25.490 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:17:25.573 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [HotelId])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2);
2025-03-21 18:17:25.593 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 18:17:25.764 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 18:17:25.767 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 18:17:25.770 +02:00 [INF] Hosting environment: Development
2025-03-21 18:17:25.772 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:21:46.868 +02:00 [INF] Application is shutting down...
2025-03-21 18:22:32.258 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:22:32.387 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:22:32.432 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:22:32.443 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:22:32.473 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:22:32.505 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 18:22:32.512 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 18:22:33.277 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:22:33.438 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:22:33.533 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:22:33.578 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:22:33.594 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:22:33.676 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 18:22:33.702 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 18:22:33.717 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:22:33.724 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 18:22:34.634 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 18:22:34.817 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 18:22:34.822 +02:00 [INF] Hosting environment: Development
2025-03-21 18:22:34.828 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:22:36.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-03-21 18:22:37.319 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 742.8092ms
2025-03-21 18:22:37.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-03-21 18:22:37.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-03-21 18:22:37.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 41.6032ms
2025-03-21 18:22:37.516 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.8349ms
2025-03-21 18:22:37.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-03-21 18:22:38.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 423.434ms
2025-03-21 18:22:44.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver - null null
2025-03-21 18:22:44.047 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 18:22:44.083 +02:00 [INF] Route matched with {action = "GetAllDrivers", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDrivers() on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 18:22:44.239 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
2025-03-21 18:22:44.314 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Driver, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 18:22:44.342 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API) in 234.4104ms
2025-03-21 18:22:44.351 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 18:22:44.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver - 200 null application/json; charset=utf-8 346.9514ms
2025-03-21 18:22:52.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel - null null
2025-03-21 18:22:52.209 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 18:22:52.222 +02:00 [INF] Route matched with {action = "GetAllHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllHotels() on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 18:22:52.377 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-21 18:22:52.424 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM [Hotels] AS [h]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
ORDER BY [h].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 18:22:52.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Hotel, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 18:22:52.508 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API) in 278.7758ms
2025-03-21 18:22:52.513 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 18:22:52.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel - 200 null application/json; charset=utf-8 334.1291ms
2025-03-21 18:26:22.205 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:26:22.436 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:26:22.457 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 18:26:22.478 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 18:26:22.523 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 18:26:22.579 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 18:26:22.587 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 18:26:23.346 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:26:23.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:26:23.715 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:26:23.750 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 18:26:23.767 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:26:23.887 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 18:26:23.920 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 18:26:23.938 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 18:26:23.949 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 18:26:24.620 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 18:26:24.798 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 18:26:24.805 +02:00 [INF] Hosting environment: Development
2025-03-21 18:26:24.809 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 18:26:25.564 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-03-21 18:26:26.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-03-21 18:26:26.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 1132.4938ms
2025-03-21 18:26:26.736 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-03-21 18:26:26.776 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 39.9421ms
2025-03-21 18:26:26.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 250.0589ms
2025-03-21 18:26:27.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-03-21 18:26:27.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 617.4353ms
2025-03-21 18:26:35.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver - null null
2025-03-21 18:26:35.065 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 18:26:35.106 +02:00 [INF] Route matched with {action = "GetAllDrivers", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDrivers() on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 18:26:35.309 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
2025-03-21 18:26:35.436 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Driver, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 18:26:35.469 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API) in 343.0933ms
2025-03-21 18:26:35.477 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 18:26:35.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver - 200 null application/json; charset=utf-8 484.2291ms
2025-03-21 18:26:51.966 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver/1 - null null
2025-03-21 18:26:51.975 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API)'
2025-03-21 18:26:52.008 +02:00 [INF] Route matched with {action = "GetDriverById", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDriverById(Int32) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 18:26:52.284 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-03-21 18:26:52.299 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Core.Entities.Driver'.
2025-03-21 18:26:52.305 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API) in 291.3009ms
2025-03-21 18:26:52.313 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API)'
2025-03-21 18:26:52.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver/1 - 200 null application/json; charset=utf-8 350.8142ms
2025-03-21 18:27:03.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation - null null
2025-03-21 18:27:03.927 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-03-21 18:27:03.939 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations() on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-03-21 18:27:04.015 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[HotelId], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[ReservationDetailsId], [r].[HotelReservationId], [r].[RoomId]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [ReservationDetails] AS [r] ON [h].[HotelReservationId] = [r].[HotelReservationId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId]
2025-03-21 18:27:04.066 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.HotelReservation, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 18:27:04.085 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 137.7254ms
2025-03-21 18:27:04.092 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-03-21 18:27:04.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation - 200 null application/json; charset=utf-8 189.9949ms
2025-03-21 18:27:12.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel - null null
2025-03-21 18:27:12.477 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 18:27:12.497 +02:00 [INF] Route matched with {action = "GetAllHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllHotels() on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 18:27:12.538 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-21 18:27:12.579 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM [Hotels] AS [h]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
ORDER BY [h].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 18:27:12.630 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Hotel, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 18:27:12.644 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API) in 138.3966ms
2025-03-21 18:27:12.648 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 18:27:12.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel - 200 null application/json; charset=utf-8 192.569ms
2025-03-21 18:27:28.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/1 - null null
2025-03-21 18:27:28.457 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API)'
2025-03-21 18:27:28.470 +02:00 [INF] Route matched with {action = "GetRoomsByHotel", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByHotel(Int32) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-03-21 18:27:28.494 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__hotelId_0
2025-03-21 18:27:28.501 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Room, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 18:27:28.503 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API) in 25.2698ms
2025-03-21 18:27:28.509 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API)'
2025-03-21 18:27:28.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 81.6809ms
2025-03-21 22:57:11.395 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 22:57:11.651 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 22:57:11.679 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-21 22:57:11.690 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-21 22:57:11.737 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-21 22:57:11.786 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-21 22:57:11.795 +02:00 [INF] ✅ Migrations Applied Successfully.
2025-03-21 22:57:12.536 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 22:57:12.729 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 22:57:12.876 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 22:57:12.906 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
ORDER BY [h].[HotelId]
2025-03-21 22:57:12.928 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 22:57:13.054 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
2025-03-21 22:57:13.100 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId]
FROM [Hotels] AS [h]
2025-03-21 22:57:13.120 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-21 22:57:13.128 +02:00 [INF] ✅ Data Seeding Completed Successfully.
2025-03-21 22:57:13.927 +02:00 [INF] Now listening on: http://localhost:5032
2025-03-21 22:57:14.061 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-21 22:57:14.067 +02:00 [INF] Hosting environment: Development
2025-03-21 22:57:14.072 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-03-21 22:57:15.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-03-21 22:57:16.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 854.1681ms
2025-03-21 22:57:16.274 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-03-21 22:57:16.274 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-03-21 22:57:16.321 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 47.6115ms
2025-03-21 22:57:16.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 167.3871ms
2025-03-21 22:57:16.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-03-21 22:57:16.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 316.2436ms
2025-03-21 22:57:25.932 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel - null null
2025-03-21 22:57:25.974 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 22:57:26.013 +02:00 [INF] Route matched with {action = "GetAllHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllHotels() on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-03-21 22:57:26.232 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-21 22:57:26.266 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h0].[HotelReservationId], [h0].[CheckInDate], [h0].[CheckOutDate], [h0].[HotelId]
FROM [Hotels] AS [h]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [HotelReservations] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
ORDER BY [h].[HotelId], [r].[RoomId], [d].[DriverId]
2025-03-21 22:57:26.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Hotel, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 22:57:26.595 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API) in 563.4688ms
2025-03-21 22:57:26.607 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-03-21 22:57:26.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel - 200 null application/json; charset=utf-8 689.3287ms
2025-03-21 23:01:48.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/1 - null null
2025-03-21 23:01:48.620 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API)'
2025-03-21 23:01:48.653 +02:00 [INF] Route matched with {action = "GetRoomsByHotel", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByHotel(Int32) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-03-21 23:01:48.875 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__hotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__hotelId_0
2025-03-21 23:01:48.895 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Room, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 23:01:48.905 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API) in 242.0917ms
2025-03-21 23:01:48.914 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByHotel (TICKIFY.API)'
2025-03-21 23:01:48.922 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 346.7276ms
2025-03-21 23:02:12.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver - null null
2025-03-21 23:02:12.744 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 23:02:12.756 +02:00 [INF] Route matched with {action = "GetAllDrivers", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDrivers() on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-03-21 23:02:12.798 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
2025-03-21 23:02:12.832 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TICKIFY.Core.Entities.Driver, TICKIFY.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-21 23:02:12.840 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API) in 73.3213ms
2025-03-21 23:02:12.847 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetAllDrivers (TICKIFY.API)'
2025-03-21 23:02:12.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver - 200 null application/json; charset=utf-8 139.3555ms
