2025-04-11 09:13:41.958 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:13:42.154 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:13:42.178 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:13:42.187 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:13:42.239 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 09:13:42.274 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 09:13:42.289 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 09:13:42.981 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:13:43.040 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:13:43.072 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:13:43.100 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:13:43.119 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 09:13:43.777 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 09:13:43.858 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 09:13:43.868 +02:00 [INF] Hosting environment: Development
2025-04-11 09:13:43.872 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 09:13:44.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 09:13:45.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 569.737ms
2025-04-11 09:13:45.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 09:13:45.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 09:13:45.267 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 71.8195ms
2025-04-11 09:13:45.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 175.6932ms
2025-04-11 09:13:45.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 09:13:45.776 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 303.8659ms
2025-04-11 09:14:49.829 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:14:49.869 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:14:49.883 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:14:49.951 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:14:50.432 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:14:50.747 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 09:14:50.801 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 833.0326ms
2025-04-11 09:14:50.811 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:14:50.830 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 1000.7434ms
2025-04-11 09:16:19.009 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:16:19.212 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:16:19.233 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:16:19.248 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:16:19.308 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 09:16:19.362 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 09:16:19.372 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 09:16:19.990 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:16:20.061 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:16:20.091 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:16:20.122 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:16:20.133 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 09:16:20.663 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 09:16:20.738 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 09:16:20.749 +02:00 [INF] Hosting environment: Development
2025-04-11 09:16:20.753 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 09:16:21.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 09:16:21.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 548.0697ms
2025-04-11 09:16:22.008 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 09:16:22.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 09:16:22.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 38.2882ms
2025-04-11 09:16:22.144 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 136.9372ms
2025-04-11 09:16:22.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 09:16:22.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 296.4143ms
2025-04-11 09:16:55.667 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:16:55.711 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:16:55.725 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:16:55.794 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:16:56.229 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:16:56.537 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 09:16:56.587 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 777.1468ms
2025-04-11 09:16:56.595 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:16:56.616 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 952.211ms
2025-04-11 09:17:10.804 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:17:10.821 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:17:10.829 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:10.836 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:17:10.997 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:17:11.010 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 09:17:11.018 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 172.0494ms
2025-04-11 09:17:11.025 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:11.031 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 227.0146ms
2025-04-11 09:17:20.646 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:17:20.657 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:17:20.665 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:20.673 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:17:20.694 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:17:20.710 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 09:17:20.719 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 38.581ms
2025-04-11 09:17:20.729 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:20.739 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 92.7892ms
2025-04-11 09:17:33.668 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:17:33.685 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:17:33.690 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:33.695 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:17:33.719 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:17:33.732 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 09:17:33.739 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 35.2624ms
2025-04-11 09:17:33.746 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:33.751 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 83.3539ms
2025-04-11 09:17:43.571 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:17:43.588 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:17:43.592 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:43.596 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:17:43.621 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:17:43.631 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 09:17:43.638 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 27.7591ms
2025-04-11 09:17:43.644 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:43.650 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 79.2755ms
2025-04-11 09:17:53.713 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 09:17:53.732 +02:00 [INF] CORS policy execution successful.
2025-04-11 09:17:53.736 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:53.740 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 09:17:53.758 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 09:17:53.775 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 09:17:53.782 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 33.8887ms
2025-04-11 09:17:53.787 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 09:17:53.792 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 79.202ms
2025-04-11 09:47:09.975 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:47:10.144 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:47:10.160 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:47:10.174 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:47:10.225 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 09:47:10.280 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 09:47:10.290 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 09:47:10.810 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:47:11.104 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (Size = 200), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (Size = 200), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (Size = 4000), @p21='?' (Size = 200), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (Size = 200), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (Size = 200), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (Size = 4000), @p33='?' (Size = 200), @p34='?' (Size = 4000), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 200), @p38='?' (Size = 4000), @p39='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7),
(@p32, @p33, @p34, @p35, 8),
(@p36, @p37, @p38, @p39, 9)) AS i ([Category], [Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Category], [Location], [Name], [StarRating])
VALUES (i.[Category], i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-04-11 09:47:11.197 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:47:11.344 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 4000), @p23='?' (Size = 100), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Int32), @p36='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p37='?' (DbType = Int32), @p38='?' (Size = 4000), @p39='?' (Size = 100), @p40='?' (DbType = Int32), @p41='?' (DbType = DateTime2), @p42='?' (DbType = DateTime2), @p43='?' (DbType = Int32), @p44='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p45='?' (DbType = Int32), @p46='?' (Size = 4000), @p47='?' (Size = 100), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p55='?' (Size = 100), @p56='?' (DbType = Int32), @p57='?' (DbType = DateTime2), @p58='?' (DbType = DateTime2), @p59='?' (DbType = Int32), @p60='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p61='?' (DbType = Int32), @p62='?' (Size = 4000), @p63='?' (Size = 100), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = DateTime2), @p67='?' (DbType = Int32), @p68='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 4000), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Int32), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (Size = 4000), @p79='?' (Size = 100), @p80='?' (DbType = Int32), @p81='?' (DbType = DateTime2), @p82='?' (DbType = DateTime2), @p83='?' (DbType = Int32), @p84='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p85='?' (DbType = Int32), @p86='?' (Size = 4000), @p87='?' (Size = 100), @p88='?' (DbType = Int32), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Int32), @p92='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 4000), @p95='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Rooms] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type])
VALUES (i.[BedCount], i.[DateIn], i.[DateOut], i.[HotelId], i.[PricePerNight], i.[RoomNumber], i.[Status], i.[Type])
OUTPUT INSERTED.[RoomId], i._Position;
2025-04-11 09:47:11.377 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:47:11.462 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 50), @p11='?' (Size = 100), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Int32), @p20='?' (Size = 50), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Size = 50), @p26='?' (Size = 100), @p27='?' (DbType = Int32), @p28='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 50), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = Int32), @p35='?' (Size = 50), @p36='?' (Size = 100), @p37='?' (DbType = Int32), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p39='?' (DbType = Int32), @p40='?' (Size = 50), @p41='?' (Size = 100), @p42='?' (DbType = Int32), @p43='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Size = 100), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p49='?' (DbType = Int32), @p50='?' (Size = 50), @p51='?' (Size = 100), @p52='?' (DbType = Int32), @p53='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (Size = 100), @p57='?' (DbType = Int32), @p58='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (Size = 50), @p61='?' (Size = 100), @p62='?' (DbType = Int32), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (DbType = Int32), @p65='?' (Size = 50), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 50), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Size = 100), @p77='?' (DbType = Int32), @p78='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p79='?' (DbType = Int32), @p80='?' (Size = 50), @p81='?' (Size = 100), @p82='?' (DbType = Int32), @p83='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p84='?' (DbType = Int32), @p85='?' (Size = 50), @p86='?' (Size = 100), @p87='?' (DbType = Int32), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (Size = 50), @p91='?' (Size = 100), @p92='?' (DbType = Int32), @p93='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p94='?' (DbType = Int32), @p95='?' (Size = 50), @p96='?' (Size = 100), @p97='?' (DbType = Int32), @p98='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p99='?' (DbType = Int32), @p100='?' (Size = 50), @p101='?' (Size = 100), @p102='?' (DbType = Int32), @p103='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Size = 100), @p107='?' (DbType = Int32), @p108='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p109='?' (DbType = Int32), @p110='?' (Size = 50), @p111='?' (Size = 100), @p112='?' (DbType = Int32), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = Int32), @p115='?' (Size = 50), @p116='?' (Size = 100), @p117='?' (DbType = Int32), @p118='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?' (Size = 50), @p121='?' (Size = 100), @p122='?' (DbType = Int32), @p123='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p124='?' (DbType = Int32), @p125='?' (Size = 50), @p126='?' (Size = 100), @p127='?' (DbType = Int32), @p128='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p129='?' (DbType = Int32), @p130='?' (Size = 50), @p131='?' (Size = 100), @p132='?' (DbType = Int32), @p133='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p134='?' (DbType = Int32), @p135='?' (Size = 50), @p136='?' (Size = 100), @p137='?' (DbType = Int32), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (Size = 50), @p141='?' (Size = 100), @p142='?' (DbType = Int32), @p143='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p144='?' (DbType = Int32), @p145='?' (Size = 50), @p146='?' (Size = 100), @p147='?' (DbType = Int32), @p148='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p149='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Drivers] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5),
(@p30, @p31, @p32, @p33, @p34, 6),
(@p35, @p36, @p37, @p38, @p39, 7),
(@p40, @p41, @p42, @p43, @p44, 8),
(@p45, @p46, @p47, @p48, @p49, 9),
(@p50, @p51, @p52, @p53, @p54, 10),
(@p55, @p56, @p57, @p58, @p59, 11),
(@p60, @p61, @p62, @p63, @p64, 12),
(@p65, @p66, @p67, @p68, @p69, 13),
(@p70, @p71, @p72, @p73, @p74, 14),
(@p75, @p76, @p77, @p78, @p79, 15),
(@p80, @p81, @p82, @p83, @p84, 16),
(@p85, @p86, @p87, @p88, @p89, 17),
(@p90, @p91, @p92, @p93, @p94, 18),
(@p95, @p96, @p97, @p98, @p99, 19),
(@p100, @p101, @p102, @p103, @p104, 20),
(@p105, @p106, @p107, @p108, @p109, 21),
(@p110, @p111, @p112, @p113, @p114, 22),
(@p115, @p116, @p117, @p118, @p119, 23),
(@p120, @p121, @p122, @p123, @p124, 24),
(@p125, @p126, @p127, @p128, @p129, 25),
(@p130, @p131, @p132, @p133, @p134, 26),
(@p135, @p136, @p137, @p138, @p139, 27),
(@p140, @p141, @p142, @p143, @p144, 28),
(@p145, @p146, @p147, @p148, @p149, 29)) AS i ([CarType], [DriverName], [HotelId], [Price], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CarType], [DriverName], [HotelId], [Price], [StarRating])
VALUES (i.[CarType], i.[DriverName], i.[HotelId], i.[Price], i.[StarRating])
OUTPUT INSERTED.[DriverId], i._Position;
2025-04-11 09:47:11.501 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:47:11.575 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (Size = 4000), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime2), @p36='?' (DbType = DateTime2), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (Size = 4000), @p45='?' (DbType = DateTime2), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (Size = 4000), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime2), @p52='?' (DbType = Int32), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Int32), @p58='?' (DbType = Int32), @p59='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HotelReservations] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5),
(@p30, @p31, @p32, @p33, @p34, 6),
(@p35, @p36, @p37, @p38, @p39, 7),
(@p40, @p41, @p42, @p43, @p44, 8),
(@p45, @p46, @p47, @p48, @p49, 9),
(@p50, @p51, @p52, @p53, @p54, 10),
(@p55, @p56, @p57, @p58, @p59, 11)) AS i ([CheckInDate], [CheckOutDate], [HotelId], [RoomId], [Status], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CheckInDate], [CheckOutDate], [HotelId], [RoomId], [Status])
VALUES (i.[CheckInDate], i.[CheckOutDate], i.[HotelId], i.[RoomId], i.[Status])
OUTPUT INSERTED.[HotelReservationId], i._Position;
2025-04-11 09:47:11.598 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 09:47:11.835 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 09:47:11.840 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 09:47:11.843 +02:00 [INF] Hosting environment: Development
2025-04-11 09:47:11.846 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 09:59:35.262 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:59:35.499 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:59:35.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 09:59:35.538 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 09:59:35.589 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 09:59:35.698 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 09:59:35.725 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 09:59:36.546 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:59:36.623 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:59:36.651 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:59:36.682 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 09:59:36.694 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 09:59:37.402 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 09:59:37.652 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 09:59:37.675 +02:00 [INF] Hosting environment: Development
2025-04-11 09:59:37.680 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 09:59:38.278 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 09:59:39.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 766.921ms
2025-04-11 09:59:39.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 09:59:39.059 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 09:59:39.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 109.049ms
2025-04-11 09:59:39.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 219.1817ms
2025-04-11 09:59:39.437 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 09:59:39.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 465.1405ms
2025-04-11 10:01:01.704 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 184
2025-04-11 10:01:01.744 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:01:01.761 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:01:01.822 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:01:02.432 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:01:02.814 +02:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:01:02.908 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Email'.
Invalid column name 'GuestName'.
Invalid column name 'Phone'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:78cb9b46-698f-4bf8-a4a9-71214f96595e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Email'.
Invalid column name 'GuestName'.
Invalid column name 'Phone'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:78cb9b46-698f-4bf8-a4a9-71214f96595e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:01:03.339 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 1498.3023ms
2025-04-11 10:01:03.348 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:01:03.362 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Email'.
Invalid column name 'GuestName'.
Invalid column name 'Phone'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:78cb9b46-698f-4bf8-a4a9-71214f96595e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 80
   at TICKIFY.API.Controllers.HotelReservationController.ReserveRoom(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:01:03.463 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 500 null text/plain; charset=utf-8 1759.7361ms
2025-04-11 10:01:51.671 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 183
2025-04-11 10:01:51.705 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:01:51.709 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:01:51.716 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:01:51.877 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:01:51.927 +02:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:01:51.958 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Email'.
Invalid column name 'GuestName'.
Invalid column name 'Phone'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:78cb9b46-698f-4bf8-a4a9-71214f96595e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Email'.
Invalid column name 'GuestName'.
Invalid column name 'Phone'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:78cb9b46-698f-4bf8-a4a9-71214f96595e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:01:52.258 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 528.6413ms
2025-04-11 10:01:52.267 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:01:52.279 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Email'.
Invalid column name 'GuestName'.
Invalid column name 'Phone'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:78cb9b46-698f-4bf8-a4a9-71214f96595e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 80
   at TICKIFY.API.Controllers.HotelReservationController.ReserveRoom(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:01:52.336 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 500 null text/plain; charset=utf-8 665.0236ms
2025-04-11 10:09:17.906 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:09:18.048 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:09:18.073 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:09:18.086 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:09:18.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:09:18.185 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:09:18.194 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:09:18.698 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:09:18.755 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:09:18.786 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:09:18.814 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:09:18.831 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:09:19.025 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:09:19.031 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:09:19.037 +02:00 [INF] Hosting environment: Development
2025-04-11 10:09:19.040 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:16:57.448 +02:00 [INF] Application is shutting down...
2025-04-11 10:19:26.357 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:19:26.561 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:19:26.582 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:19:26.596 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:19:26.639 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:19:26.689 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:19:26.699 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:19:27.247 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:19:27.594 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (Size = 200), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (Size = 200), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (Size = 4000), @p21='?' (Size = 200), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (Size = 200), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (Size = 200), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (Size = 4000), @p33='?' (Size = 200), @p34='?' (Size = 4000), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 200), @p38='?' (Size = 4000), @p39='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7),
(@p32, @p33, @p34, @p35, 8),
(@p36, @p37, @p38, @p39, 9)) AS i ([Category], [Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Category], [Location], [Name], [StarRating])
VALUES (i.[Category], i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-04-11 10:19:27.748 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:19:27.912 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 4000), @p23='?' (Size = 100), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Int32), @p36='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p37='?' (DbType = Int32), @p38='?' (Size = 4000), @p39='?' (Size = 100), @p40='?' (DbType = Int32), @p41='?' (DbType = DateTime2), @p42='?' (DbType = DateTime2), @p43='?' (DbType = Int32), @p44='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p45='?' (DbType = Int32), @p46='?' (Size = 4000), @p47='?' (Size = 100), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p55='?' (Size = 100), @p56='?' (DbType = Int32), @p57='?' (DbType = DateTime2), @p58='?' (DbType = DateTime2), @p59='?' (DbType = Int32), @p60='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p61='?' (DbType = Int32), @p62='?' (Size = 4000), @p63='?' (Size = 100), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = DateTime2), @p67='?' (DbType = Int32), @p68='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 4000), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Int32), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (Size = 4000), @p79='?' (Size = 100), @p80='?' (DbType = Int32), @p81='?' (DbType = DateTime2), @p82='?' (DbType = DateTime2), @p83='?' (DbType = Int32), @p84='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p85='?' (DbType = Int32), @p86='?' (Size = 4000), @p87='?' (Size = 100), @p88='?' (DbType = Int32), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Int32), @p92='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 4000), @p95='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Rooms] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type])
VALUES (i.[BedCount], i.[DateIn], i.[DateOut], i.[HotelId], i.[PricePerNight], i.[RoomNumber], i.[Status], i.[Type])
OUTPUT INSERTED.[RoomId], i._Position;
2025-04-11 10:19:27.951 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:19:28.079 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 50), @p11='?' (Size = 100), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Int32), @p20='?' (Size = 50), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Size = 50), @p26='?' (Size = 100), @p27='?' (DbType = Int32), @p28='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 50), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = Int32), @p35='?' (Size = 50), @p36='?' (Size = 100), @p37='?' (DbType = Int32), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p39='?' (DbType = Int32), @p40='?' (Size = 50), @p41='?' (Size = 100), @p42='?' (DbType = Int32), @p43='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Size = 100), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p49='?' (DbType = Int32), @p50='?' (Size = 50), @p51='?' (Size = 100), @p52='?' (DbType = Int32), @p53='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (Size = 100), @p57='?' (DbType = Int32), @p58='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (Size = 50), @p61='?' (Size = 100), @p62='?' (DbType = Int32), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (DbType = Int32), @p65='?' (Size = 50), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 50), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Size = 100), @p77='?' (DbType = Int32), @p78='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p79='?' (DbType = Int32), @p80='?' (Size = 50), @p81='?' (Size = 100), @p82='?' (DbType = Int32), @p83='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p84='?' (DbType = Int32), @p85='?' (Size = 50), @p86='?' (Size = 100), @p87='?' (DbType = Int32), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (Size = 50), @p91='?' (Size = 100), @p92='?' (DbType = Int32), @p93='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p94='?' (DbType = Int32), @p95='?' (Size = 50), @p96='?' (Size = 100), @p97='?' (DbType = Int32), @p98='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p99='?' (DbType = Int32), @p100='?' (Size = 50), @p101='?' (Size = 100), @p102='?' (DbType = Int32), @p103='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Size = 100), @p107='?' (DbType = Int32), @p108='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p109='?' (DbType = Int32), @p110='?' (Size = 50), @p111='?' (Size = 100), @p112='?' (DbType = Int32), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = Int32), @p115='?' (Size = 50), @p116='?' (Size = 100), @p117='?' (DbType = Int32), @p118='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?' (Size = 50), @p121='?' (Size = 100), @p122='?' (DbType = Int32), @p123='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p124='?' (DbType = Int32), @p125='?' (Size = 50), @p126='?' (Size = 100), @p127='?' (DbType = Int32), @p128='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p129='?' (DbType = Int32), @p130='?' (Size = 50), @p131='?' (Size = 100), @p132='?' (DbType = Int32), @p133='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p134='?' (DbType = Int32), @p135='?' (Size = 50), @p136='?' (Size = 100), @p137='?' (DbType = Int32), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (Size = 50), @p141='?' (Size = 100), @p142='?' (DbType = Int32), @p143='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p144='?' (DbType = Int32), @p145='?' (Size = 50), @p146='?' (Size = 100), @p147='?' (DbType = Int32), @p148='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p149='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Drivers] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5),
(@p30, @p31, @p32, @p33, @p34, 6),
(@p35, @p36, @p37, @p38, @p39, 7),
(@p40, @p41, @p42, @p43, @p44, 8),
(@p45, @p46, @p47, @p48, @p49, 9),
(@p50, @p51, @p52, @p53, @p54, 10),
(@p55, @p56, @p57, @p58, @p59, 11),
(@p60, @p61, @p62, @p63, @p64, 12),
(@p65, @p66, @p67, @p68, @p69, 13),
(@p70, @p71, @p72, @p73, @p74, 14),
(@p75, @p76, @p77, @p78, @p79, 15),
(@p80, @p81, @p82, @p83, @p84, 16),
(@p85, @p86, @p87, @p88, @p89, 17),
(@p90, @p91, @p92, @p93, @p94, 18),
(@p95, @p96, @p97, @p98, @p99, 19),
(@p100, @p101, @p102, @p103, @p104, 20),
(@p105, @p106, @p107, @p108, @p109, 21),
(@p110, @p111, @p112, @p113, @p114, 22),
(@p115, @p116, @p117, @p118, @p119, 23),
(@p120, @p121, @p122, @p123, @p124, 24),
(@p125, @p126, @p127, @p128, @p129, 25),
(@p130, @p131, @p132, @p133, @p134, 26),
(@p135, @p136, @p137, @p138, @p139, 27),
(@p140, @p141, @p142, @p143, @p144, 28),
(@p145, @p146, @p147, @p148, @p149, 29)) AS i ([CarType], [DriverName], [HotelId], [Price], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CarType], [DriverName], [HotelId], [Price], [StarRating])
VALUES (i.[CarType], i.[DriverName], i.[HotelId], i.[Price], i.[StarRating])
OUTPUT INSERTED.[DriverId], i._Position;
2025-04-11 10:19:28.142 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:19:28.285 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32), @p29='?' (Size = 4000), @p30='?' (DbType = Int32), @p31='?' (Size = 4000), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p35='?' (Size = 4000), @p36='?' (DbType = Int32), @p37='?' (Size = 4000), @p38='?' (DbType = Int32), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (Size = 4000), @p43='?' (Size = 4000), @p44='?' (DbType = Int32), @p45='?' (Size = 4000), @p46='?' (DbType = Int32), @p47='?' (Size = 4000), @p48='?' (DbType = DateTime2), @p49='?' (DbType = DateTime2), @p50='?' (Size = 4000), @p51='?' (Size = 4000), @p52='?' (DbType = Int32), @p53='?' (Size = 4000), @p54='?' (DbType = Int32), @p55='?' (Size = 4000), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 4000), @p59='?' (Size = 4000), @p60='?' (DbType = Int32), @p61='?' (Size = 4000), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = DateTime2), @p65='?' (DbType = DateTime2), @p66='?' (Size = 4000), @p67='?' (Size = 4000), @p68='?' (DbType = Int32), @p69='?' (Size = 4000), @p70='?' (DbType = Int32), @p71='?' (Size = 4000), @p72='?' (DbType = DateTime2), @p73='?' (DbType = DateTime2), @p74='?' (Size = 4000), @p75='?' (Size = 4000), @p76='?' (DbType = Int32), @p77='?' (Size = 4000), @p78='?' (DbType = Int32), @p79='?' (Size = 4000), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 4000), @p83='?' (Size = 4000), @p84='?' (DbType = Int32), @p85='?' (Size = 4000), @p86='?' (DbType = Int32), @p87='?' (Size = 4000), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime2), @p90='?' (Size = 4000), @p91='?' (Size = 4000), @p92='?' (DbType = Int32), @p93='?' (Size = 4000), @p94='?' (DbType = Int32), @p95='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HotelReservations] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
VALUES (i.[CheckInDate], i.[CheckOutDate], i.[Email], i.[GuestName], i.[HotelId], i.[Phone], i.[RoomId], i.[Status])
OUTPUT INSERTED.[HotelReservationId], i._Position;
2025-04-11 10:19:28.317 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:19:28.613 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:19:28.619 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:19:28.624 +02:00 [INF] Hosting environment: Development
2025-04-11 10:19:28.630 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:20:49.498 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:20:49.736 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:20:49.780 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:20:49.802 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:20:49.873 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:20:49.962 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:20:49.979 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:20:51.106 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:20:51.227 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:20:51.278 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:20:51.345 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:20:51.365 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:20:52.307 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:20:52.614 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:20:52.622 +02:00 [INF] Hosting environment: Development
2025-04-11 10:20:52.630 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:20:53.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 10:20:54.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 913.2037ms
2025-04-11 10:20:54.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 10:20:54.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 10:20:54.536 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 60.611ms
2025-04-11 10:20:54.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 237.1688ms
2025-04-11 10:20:54.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 10:20:55.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 451.2359ms
2025-04-11 10:21:43.100 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 185
2025-04-11 10:21:43.162 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:21:43.188 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:21:43.305 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:21:44.113 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:21:44.831 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:21:45.035 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f4cb88e8-6556-4add-9c76-0bf89c94d040
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f4cb88e8-6556-4add-9c76-0bf89c94d040
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:21:45.722 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 2392.8846ms
2025-04-11 10:21:45.732 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:21:45.746 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f4cb88e8-6556-4add-9c76-0bf89c94d040
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 80
   at TICKIFY.API.Controllers.HotelReservationController.ReserveRoom(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:21:45.902 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 500 null text/plain; charset=utf-8 2802.5544ms
2025-04-11 10:23:19.652 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:23:19.690 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:23:19.714 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:23:19.724 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:23:19.949 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:23:20.009 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:23:20.044 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f4cb88e8-6556-4add-9c76-0bf89c94d040
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f4cb88e8-6556-4add-9c76-0bf89c94d040
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:23:20.620 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 881.0503ms
2025-04-11 10:23:20.632 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:23:20.646 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f4cb88e8-6556-4add-9c76-0bf89c94d040
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 80
   at TICKIFY.API.Controllers.HotelReservationController.ReserveRoom(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:23:20.729 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 500 null text/plain; charset=utf-8 1076.6981ms
2025-04-11 10:27:01.702 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation - application/json 109
2025-04-11 10:27:01.734 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:27:01.736 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 10:27:01.741 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:27:01.788 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 10:27:01.809 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 63.8384ms
2025-04-11 10:27:01.812 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 10:27:01.814 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation - 400 null application/problem+json; charset=utf-8 111.9374ms
2025-04-11 10:27:21.239 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation - application/json 109
2025-04-11 10:27:21.248 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:27:21.250 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 10:27:21.252 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:27:21.288 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]
        WHERE [h].[HotelId] = @__reservationReq_HotelId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:27:21.297 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-04-11 10:27:21.304 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'TickifyDb.dbo.HotelReservations'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d9edef23-5524-4891-ad2f-d51085651b64
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'TickifyDb.dbo.HotelReservations'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d9edef23-5524-4891-ad2f-d51085651b64
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:27:21.407 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 151.0876ms
2025-04-11 10:27:21.412 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 10:27:21.414 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'TickifyDb.dbo.HotelReservations'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d9edef23-5524-4891-ad2f-d51085651b64
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(HotelReservationReq reservationReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 100
   at TICKIFY.API.Controllers.HotelReservationController.CreateReservation(HotelReservationReq reservationReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:27:21.428 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation - 500 null text/plain; charset=utf-8 189.1922ms
2025-04-11 10:30:00.240 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:30:00.324 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:30:00.332 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:30:00.336 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:30:00.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:30:00.375 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:30:00.380 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:30:00.642 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:00.669 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:00.681 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:00.692 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:00.697 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:30:00.964 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:30:01.024 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:30:01.032 +02:00 [INF] Hosting environment: Development
2025-04-11 10:30:01.036 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:30:01.588 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 10:30:01.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 274.9125ms
2025-04-11 10:30:01.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 10:30:01.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 10:30:01.894 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 13.9488ms
2025-04-11 10:30:01.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.2891ms
2025-04-11 10:30:01.973 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 10:30:02.078 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.7955ms
2025-04-11 10:30:27.914 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:30:27.988 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:30:28.001 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:30:28.005 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:30:28.020 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:30:28.044 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:30:28.049 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:30:28.307 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:28.331 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:28.341 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:28.351 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:30:28.356 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:30:28.630 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:30:28.679 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:30:28.683 +02:00 [INF] Hosting environment: Development
2025-04-11 10:30:28.685 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:30:29.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 10:30:29.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 227.9034ms
2025-04-11 10:30:29.418 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 10:30:29.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 10:30:29.439 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 14.6037ms
2025-04-11 10:30:29.467 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9532ms
2025-04-11 10:30:29.518 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 10:30:29.610 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.1967ms
2025-04-11 10:30:41.434 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:30:41.448 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:30:41.454 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:30:41.481 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:30:41.699 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:30:41.837 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:30:41.884 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ca38b680-9500-4fd9-bf83-c77156de8f31
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ca38b680-9500-4fd9-bf83-c77156de8f31
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:30:42.050 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 562.337ms
2025-04-11 10:30:42.055 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:30:42.061 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ca38b680-9500-4fd9-bf83-c77156de8f31
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 80
   at TICKIFY.API.Controllers.HotelReservationController.ReserveRoom(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:30:42.092 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 500 null text/plain; charset=utf-8 658.116ms
2025-04-11 10:32:30.688 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:32:30.695 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:32:30.701 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:32:30.703 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:32:30.761 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:32:30.771 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:32:30.778 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ca38b680-9500-4fd9-bf83-c77156de8f31
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ca38b680-9500-4fd9-bf83-c77156de8f31
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-11 10:32:30.887 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 181.1672ms
2025-04-11 10:32:30.890 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:32:30.892 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_HotelReservations_Hotels_HotelId". The conflict occurred in database "TickifyDb", table "dbo.Hotels", column 'HotelId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ca38b680-9500-4fd9-bf83-c77156de8f31
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.CreateReservationAsync(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 80
   at TICKIFY.API.Controllers.HotelReservationController.ReserveRoom(RoomReservationRequest reservationRequest) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 10:32:30.906 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 500 null text/plain; charset=utf-8 217.4238ms
2025-04-11 10:35:24.601 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:35:24.680 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:35:24.687 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:35:24.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:35:24.710 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:35:24.729 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:35:24.735 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:35:25.001 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:35:25.029 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:35:25.040 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:35:25.052 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:35:25.057 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:35:25.329 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:35:25.379 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:35:25.388 +02:00 [INF] Hosting environment: Development
2025-04-11 10:35:25.390 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:35:25.756 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 10:35:25.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 236.5608ms
2025-04-11 10:35:25.990 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 10:35:25.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 10:35:26.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 14.6561ms
2025-04-11 10:35:26.046 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.9725ms
2025-04-11 10:35:26.094 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 10:35:26.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.6778ms
2025-04-11 10:35:45.200 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:35:45.215 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:35:45.221 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:35:45.245 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:35:45.463 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:35:45.603 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:35:45.639 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Data.Entities.HotelReservations'.
2025-04-11 10:35:45.658 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 406.0933ms
2025-04-11 10:35:45.662 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:35:45.667 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 200 null application/json; charset=utf-8 466.3358ms
2025-04-11 10:36:30.402 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 10:36:30.412 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:36:30.414 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 10:36:30.420 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 10:36:30.513 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 10:36:30.564 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 10:36:30.580 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 156.1879ms
2025-04-11 10:36:30.584 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 10:36:30.587 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 185.7582ms
2025-04-11 10:38:40.208 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:38:40.221 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:38:40.224 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:38:40.227 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:38:40.238 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:38:40.251 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:38:40.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Data.Entities.HotelReservations'.
2025-04-11 10:38:40.260 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 30.3183ms
2025-04-11 10:38:40.262 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:38:40.263 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 200 null application/json; charset=utf-8 55.5296ms
2025-04-11 10:38:42.150 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:38:42.158 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:38:42.159 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:38:42.160 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:38:42.169 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__p_0
2025-04-11 10:38:42.177 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:38:42.184 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Data.Entities.HotelReservations'.
2025-04-11 10:38:42.186 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 23.1799ms
2025-04-11 10:38:42.188 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:38:42.189 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 200 null application/json; charset=utf-8 38.8972ms
2025-04-11 10:45:01.058 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:45:01.143 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:45:01.151 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 10:45:01.156 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 10:45:01.172 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 10:45:01.192 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 10:45:01.197 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 10:45:01.488 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:45:01.516 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:45:01.527 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:45:01.538 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 10:45:01.542 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 10:45:01.805 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 10:45:01.886 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 10:45:01.893 +02:00 [INF] Hosting environment: Development
2025-04-11 10:45:01.895 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 10:45:02.394 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 10:45:02.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 237.8469ms
2025-04-11 10:45:02.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 10:45:02.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 10:45:02.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13757 application/javascript; charset=utf-8 15.6915ms
2025-04-11 10:45:02.671 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.2106ms
2025-04-11 10:45:02.729 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 10:45:02.842 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.1199ms
2025-04-11 10:47:38.745 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:47:38.766 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:47:38.772 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:47:38.797 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:47:38.936 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationRequest_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 10:47:38.951 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-04-11 10:47:38.960 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 156.7992ms
2025-04-11 10:47:38.963 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:47:38.968 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 400 null text/plain; charset=utf-8 223.0512ms
2025-04-11 10:47:51.029 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:47:51.037 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:47:51.039 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:47:51.041 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:47:51.095 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationRequest_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 10:47:51.099 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-04-11 10:47:51.102 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 58.3734ms
2025-04-11 10:47:51.104 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:47:51.105 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 400 null text/plain; charset=utf-8 76.223ms
2025-04-11 10:48:36.056 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 201
2025-04-11 10:48:36.062 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:48:36.063 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:48:36.064 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 10:48:36.073 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationRequest_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 10:48:36.138 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32), @__reservationRequest_CheckOutDate_1='?' (DbType = DateTime2), @__reservationRequest_CheckInDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[RoomId] = @__reservationRequest_RoomId_0 AND [h].[CheckInDate] < @__reservationRequest_CheckOutDate_1 AND [h].[CheckOutDate] > @__reservationRequest_CheckInDate_2
2025-04-11 10:48:36.291 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 10:48:36.324 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Data.Entities.HotelReservations'.
2025-04-11 10:48:36.339 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 272.426ms
2025-04-11 10:48:36.343 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 10:48:36.347 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 200 null application/json; charset=utf-8 290.9959ms
2025-04-11 10:49:25.422 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 10:49:25.433 +02:00 [INF] CORS policy execution successful.
2025-04-11 10:49:25.434 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 10:49:25.439 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 10:49:25.483 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 10:49:25.538 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 10:49:25.555 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 111.6916ms
2025-04-11 10:49:25.557 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 10:49:25.558 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 136.7743ms
2025-04-11 11:43:32.152 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 11:43:32.252 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 11:43:32.269 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 11:43:32.277 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 11:43:32.303 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 11:43:32.329 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 11:43:32.333 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 11:43:32.653 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:43:32.689 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:43:32.706 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:43:32.754 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:43:32.759 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 11:43:33.338 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 11:43:33.412 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 11:43:33.415 +02:00 [INF] Hosting environment: Development
2025-04-11 11:43:33.417 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 11:43:34.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 11:43:34.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 405.273ms
2025-04-11 11:43:34.615 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 11:43:34.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 11:43:34.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 19.2789ms
2025-04-11 11:43:34.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 214.277ms
2025-04-11 11:43:34.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 11:43:35.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 310.5128ms
2025-04-11 11:43:55.065 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 11:43:55.079 +02:00 [INF] CORS policy execution successful.
2025-04-11 11:43:55.085 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 11:43:55.110 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 11:43:55.293 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 11:43:55.405 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 11:43:55.426 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 307.992ms
2025-04-11 11:43:55.429 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 11:43:55.435 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 370.0442ms
2025-04-11 11:46:54.775 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 115
2025-04-11 11:46:54.784 +02:00 [INF] CORS policy execution successful.
2025-04-11 11:46:54.786 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 11:46:54.790 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 11:46:54.801 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 11:46:54.819 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 26.7786ms
2025-04-11 11:46:54.823 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 11:46:54.824 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/problem+json; charset=utf-8 48.9962ms
2025-04-11 11:49:15.002 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 101
2025-04-11 11:49:15.015 +02:00 [INF] CORS policy execution successful.
2025-04-11 11:49:15.016 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 11:49:15.017 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 11:49:15.078 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 11:49:15.082 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 11:49:15.085 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 64.5027ms
2025-04-11 11:49:15.087 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 11:49:15.089 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 87.0192ms
2025-04-11 11:59:45.453 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 11:59:45.540 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 11:59:45.608 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 11:59:45.615 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 11:59:45.635 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 11:59:45.658 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 11:59:45.663 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 11:59:45.953 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:59:45.983 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:59:45.994 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:59:46.004 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 11:59:46.008 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 11:59:46.293 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 11:59:46.347 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 11:59:46.354 +02:00 [INF] Hosting environment: Development
2025-04-11 11:59:46.355 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 11:59:46.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 11:59:46.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 322.8008ms
2025-04-11 11:59:46.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 11:59:46.961 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 11:59:46.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 26.3315ms
2025-04-11 11:59:47.025 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.0141ms
2025-04-11 11:59:47.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 11:59:47.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.3823ms
2025-04-11 13:35:05.386 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 13:35:05.505 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 13:35:05.524 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 13:35:05.533 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 13:35:05.566 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 13:35:05.596 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 13:35:05.604 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 13:35:06.140 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:35:06.189 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:35:06.204 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:35:06.217 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:35:06.222 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 13:35:06.569 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 13:35:06.640 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 13:35:06.652 +02:00 [INF] Hosting environment: Development
2025-04-11 13:35:06.655 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 13:35:08.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 13:35:08.577 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 424.7889ms
2025-04-11 13:35:08.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 13:35:08.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 13:35:08.635 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 30.4111ms
2025-04-11 13:35:08.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 191.6991ms
2025-04-11 13:35:08.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 13:35:09.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.7226ms
2025-04-11 13:35:15.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel - null null
2025-04-11 13:35:15.811 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-04-11 13:35:15.869 +02:00 [INF] Route matched with {action = "GetAllHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllHotels(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-04-11 13:35:16.251 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [Hotels] AS [h]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelId]
2025-04-11 13:35:16.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Hotels, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.hotels.HotelRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 13:35:16.695 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API) in 810.0047ms
2025-04-11 13:35:16.703 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetAllHotels (TICKIFY.API)'
2025-04-11 13:35:16.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel - 200 null application/json; charset=utf-8 935.8661ms
2025-04-11 13:54:06.828 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 13:54:06.927 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 13:54:06.944 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 13:54:06.952 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 13:54:06.975 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 13:54:07.012 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 13:54:07.020 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 13:54:07.391 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:54:07.431 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:54:07.447 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:54:07.466 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 13:54:07.474 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 13:54:07.846 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 13:54:07.931 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 13:54:07.942 +02:00 [INF] Hosting environment: Development
2025-04-11 13:54:07.945 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 13:54:08.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 13:54:08.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 336.7302ms
2025-04-11 13:54:08.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 13:54:08.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 13:54:08.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 24.2429ms
2025-04-11 13:54:08.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.0709ms
2025-04-11 13:54:08.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 13:54:09.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.0762ms
2025-04-11 13:54:38.215 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/type/2 - null null
2025-04-11 13:54:38.257 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 13:54:38.319 +02:00 [INF] Route matched with {action = "GetRoomsByType", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByType(TICKIFY.Data.Enums.RoomType, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 13:54:38.648 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__type_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[Type] = @__type_0
2025-04-11 13:54:38.961 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 13:54:38.997 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API) in 660.4785ms
2025-04-11 13:54:39.005 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 13:54:39.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/type/2 - 200 null application/json; charset=utf-8 808.5202ms
2025-04-11 14:02:19.247 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:02:19.356 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:02:19.372 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:02:19.379 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:02:19.404 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:02:19.443 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:02:19.449 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:02:19.779 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:02:19.815 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:02:19.833 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:02:19.849 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:02:19.856 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:02:20.270 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:02:20.333 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:02:20.343 +02:00 [INF] Hosting environment: Development
2025-04-11 14:02:20.348 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:02:20.967 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:02:21.355 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 398.0808ms
2025-04-11 14:02:21.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:02:21.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:02:21.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 24.1585ms
2025-04-11 14:02:21.476 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.7094ms
2025-04-11 14:02:21.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:02:21.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 200.8407ms
2025-04-11 14:04:01.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/type/1 - null null
2025-04-11 14:04:01.267 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:04:01.330 +02:00 [INF] Route matched with {action = "GetRoomsByType", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByType(TICKIFY.Data.Enums.RoomType, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:04:01.657 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__type_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[Type] = @__type_0
2025-04-11 14:04:01.950 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 14:04:01.982 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API) in 634.0401ms
2025-04-11 14:04:01.990 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:04:02.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/type/1 - 200 null application/json; charset=utf-8 786.9856ms
2025-04-11 14:12:29.840 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:12:29.937 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:12:29.953 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:12:29.962 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:12:29.988 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:12:30.012 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:12:30.019 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:12:30.359 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:12:30.397 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:12:30.411 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:12:30.426 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:12:30.433 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:12:30.794 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:12:30.961 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:12:30.974 +02:00 [INF] Hosting environment: Development
2025-04-11 14:12:30.978 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:12:31.524 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:12:31.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 412.7967ms
2025-04-11 14:12:31.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:12:31.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:12:31.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 25.3771ms
2025-04-11 14:12:32.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.2331ms
2025-04-11 14:12:32.201 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:12:32.368 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.3837ms
2025-04-11 14:12:50.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/type/single - null null
2025-04-11 14:12:50.549 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:12:50.602 +02:00 [INF] Route matched with {action = "GetRoomsByType", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByType(System.String, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:12:50.912 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__parsedType_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[Type] = @__parsedType_0
2025-04-11 14:12:51.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 14:12:51.151 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API) in 536.0418ms
2025-04-11 14:12:51.158 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:12:51.172 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/type/single - 200 null application/json; charset=utf-8 659.1135ms
2025-04-11 14:13:00.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/type/delux - null null
2025-04-11 14:13:00.174 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:13:00.179 +02:00 [INF] Route matched with {action = "GetRoomsByType", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByType(System.String, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:13:00.195 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-04-11 14:13:00.203 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API) in 13.853ms
2025-04-11 14:13:00.211 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:13:00.217 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/type/delux - 404 null text/plain; charset=utf-8 53.7164ms
2025-04-11 14:13:11.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/type/suite - null null
2025-04-11 14:13:11.283 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:13:11.289 +02:00 [INF] Route matched with {action = "GetRoomsByType", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByType(System.String, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:13:11.449 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__parsedType_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[Type] = @__parsedType_0
2025-04-11 14:13:11.470 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 14:13:11.477 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API) in 177.8323ms
2025-04-11 14:13:11.484 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 14:13:11.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/type/suite - 200 null application/json; charset=utf-8 215.1301ms
2025-04-11 14:13:32.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/3/price - null null
2025-04-11 14:13:32.959 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomPrice (TICKIFY.API)'
2025-04-11 14:13:32.972 +02:00 [INF] Route matched with {action = "GetRoomPrice", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomPrice(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:13:33.014 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:13:33.036 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Decimal'.
2025-04-11 14:13:33.049 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomPrice (TICKIFY.API) in 68.051ms
2025-04-11 14:13:33.056 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomPrice (TICKIFY.API)'
2025-04-11 14:13:33.062 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/3/price - 200 null application/json; charset=utf-8 133.2305ms
2025-04-11 14:13:55.996 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/4 - null null
2025-04-11 14:13:56.004 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:13:56.014 +02:00 [INF] Route matched with {action = "GetRoomById", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:13:56.037 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:13:56.054 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:13:56.062 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API) in 37.173ms
2025-04-11 14:13:56.069 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:13:56.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/4 - 200 null application/json; charset=utf-8 79.1408ms
2025-04-11 14:15:27.189 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/4 - application/json 100
2025-04-11 14:15:27.206 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:15:27.213 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:15:27.227 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:15:27.300 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:15:27.650 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 413.1795ms
2025-04-11 14:15:27.657 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:15:27.664 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method114(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 196
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:15:27.745 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/4 - 500 null text/plain; charset=utf-8 556.8394ms
2025-04-11 14:18:56.363 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:18:56.512 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:18:56.530 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:18:56.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:18:56.559 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:18:56.584 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:18:56.591 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:18:56.931 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:18:56.968 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:18:56.990 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:18:57.020 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:18:57.034 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:18:57.451 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:18:57.524 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:18:57.527 +02:00 [INF] Hosting environment: Development
2025-04-11 14:18:57.531 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:18:57.984 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:18:58.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 478.429ms
2025-04-11 14:18:58.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:18:58.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:18:58.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 37.5368ms
2025-04-11 14:18:58.590 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 114.7243ms
2025-04-11 14:18:58.690 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:18:58.827 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.5578ms
2025-04-11 14:19:11.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/3 - null null
2025-04-11 14:19:11.877 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:19:11.942 +02:00 [INF] Route matched with {action = "GetRoomById", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:19:12.238 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:19:12.570 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:19:12.605 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API) in 645.0238ms
2025-04-11 14:19:12.613 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:19:12.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/3 - 200 null application/json; charset=utf-8 782.7768ms
2025-04-11 14:20:49.374 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 101
2025-04-11 14:20:49.407 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:20:49.413 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:20:49.429 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:20:49.483 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 14:20:49.531 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 91.0949ms
2025-04-11 14:20:49.538 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:20:49.544 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 400 null application/problem+json; charset=utf-8 170.257ms
2025-04-11 14:21:20.686 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 100
2025-04-11 14:21:20.700 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:21:20.705 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:21:20.709 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:21:20.913 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:21:21.230 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 511.2111ms
2025-04-11 14:21:21.237 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:21:21.244 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method93(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 200
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:21:21.324 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 638.3697ms
2025-04-11 14:22:48.310 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:22:48.412 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:22:48.431 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:22:48.441 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:22:48.464 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:22:48.489 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:22:48.496 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:22:48.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:22:48.941 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:22:48.954 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:22:48.969 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:22:48.975 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:22:49.337 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:22:49.411 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:22:49.422 +02:00 [INF] Hosting environment: Development
2025-04-11 14:22:49.426 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:22:50.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:22:50.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 494.2161ms
2025-04-11 14:22:50.580 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:22:50.596 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:22:50.635 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 38.775ms
2025-04-11 14:22:50.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.6998ms
2025-04-11 14:22:50.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:22:50.979 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.461ms
2025-04-11 14:23:34.815 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 100
2025-04-11 14:23:34.850 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:23:34.869 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:23:34.929 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:23:35.280 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:23:35.911 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 962.5455ms
2025-04-11 14:23:35.919 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:23:35.933 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method84(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 206
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:23:36.022 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 1207.1068ms
2025-04-11 14:26:02.988 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:26:03.081 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:26:03.101 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:26:03.110 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:26:03.132 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:26:03.165 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:26:03.177 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:26:03.625 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:26:03.706 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:26:03.732 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:26:03.755 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:26:03.765 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:26:04.126 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:26:04.184 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:26:04.195 +02:00 [INF] Hosting environment: Development
2025-04-11 14:26:04.199 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:26:04.758 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:26:05.258 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 512.192ms
2025-04-11 14:26:05.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:26:05.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:26:05.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 25.8837ms
2025-04-11 14:26:05.400 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.0606ms
2025-04-11 14:26:05.505 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:26:05.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.5447ms
2025-04-11 14:26:20.774 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 100
2025-04-11 14:26:20.795 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:26:20.811 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:26:20.878 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:26:21.156 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:26:21.745 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 851.0825ms
2025-04-11 14:26:21.753 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:26:21.764 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method84(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 206
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:26:21.853 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 1079.0111ms
2025-04-11 14:29:27.719 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 99
2025-04-11 14:29:27.733 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:29:27.737 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:29:27.742 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:29:27.887 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:29:28.078 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 329.2009ms
2025-04-11 14:29:28.085 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:29:28.092 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method84(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 206
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:29:28.120 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 400.3508ms
2025-04-11 14:30:38.673 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:30:38.792 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:30:38.808 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:30:38.815 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:30:38.839 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:30:38.868 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:30:38.875 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:30:39.310 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:30:39.349 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:30:39.365 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:30:39.392 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:30:39.403 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:30:39.833 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:30:39.897 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:30:39.907 +02:00 [INF] Hosting environment: Development
2025-04-11 14:30:39.911 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:30:40.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:30:41.151 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 533.3717ms
2025-04-11 14:30:41.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:30:41.192 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:30:41.217 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 24.8793ms
2025-04-11 14:30:41.277 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 112.5894ms
2025-04-11 14:30:41.429 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:30:41.585 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.0722ms
2025-04-11 14:31:02.228 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 99
2025-04-11 14:31:02.251 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:31:02.263 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:31:02.327 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:31:02.714 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:31:03.323 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 980.8433ms
2025-04-11 14:31:03.333 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:31:03.346 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method84(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 208
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:31:03.437 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 1210.3409ms
2025-04-11 14:31:54.225 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 96
2025-04-11 14:31:54.258 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:31:54.262 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:31:54.267 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:31:54.412 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:31:54.584 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 308.4021ms
2025-04-11 14:31:54.590 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:31:54.595 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method84(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 208
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:31:54.621 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 396.4376ms
2025-04-11 14:39:21.471 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:39:21.605 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:39:21.621 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:39:21.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:39:21.650 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:39:21.675 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:39:21.681 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:39:22.183 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:39:22.220 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:39:22.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:39:22.259 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:39:22.264 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:39:22.610 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:39:22.714 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:39:22.727 +02:00 [INF] Hosting environment: Development
2025-04-11 14:39:22.734 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:39:23.419 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:39:23.994 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 588.6384ms
2025-04-11 14:39:23.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:39:24.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:39:24.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 43.3837ms
2025-04-11 14:39:24.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.0613ms
2025-04-11 14:39:24.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:39:24.460 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.1298ms
2025-04-11 14:39:31.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Driver/3 - null null
2025-04-11 14:39:31.697 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API)'
2025-04-11 14:39:31.754 +02:00 [INF] Route matched with {action = "GetDriverById", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDriverById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-04-11 14:39:32.200 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Drivers] AS [d]
INNER JOIN [Hotels] AS [h] ON [d].[HotelId] = [h].[HotelId]
WHERE [d].[DriverId] = @__id_0
2025-04-11 14:39:32.506 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Drivers.DriverRes'.
2025-04-11 14:39:32.549 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API) in 774.1241ms
2025-04-11 14:39:32.556 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.GetDriverById (TICKIFY.API)'
2025-04-11 14:39:32.571 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Driver/3 - 200 null application/json; charset=utf-8 908.1103ms
2025-04-11 14:40:22.532 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Driver/1 - application/json 106
2025-04-11 14:40:22.549 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:40:22.556 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-04-11 14:40:22.572 +02:00 [INF] Route matched with {action = "UpdateDriver", controller = "Driver"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriver(Int32, TICKIFY.API.Contracts.Requests.DriverReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.DriverController (TICKIFY.API).
2025-04-11 14:40:22.871 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [Drivers] AS [d]
WHERE [d].[DriverId] = @__id_0
2025-04-11 14:40:23.142 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Drivers] SET [CarType] = @p0, [DriverName] = @p1, [Price] = @p2
OUTPUT 1
WHERE [DriverId] = @p3;
2025-04-11 14:40:23.167 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Drivers.DriverRes'.
2025-04-11 14:40:23.176 +02:00 [INF] Executed action TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API) in 592.8488ms
2025-04-11 14:40:23.181 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.DriverController.UpdateDriver (TICKIFY.API)'
2025-04-11 14:40:23.187 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Driver/1 - 200 null application/json; charset=utf-8 657.5389ms
2025-04-11 14:44:39.427 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:44:39.552 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:44:39.570 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:44:39.584 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:44:39.619 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:44:39.664 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:44:39.672 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:44:40.199 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:44:40.231 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:44:40.255 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:44:40.275 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:44:40.295 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:45:24.604 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:45:24.711 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:45:24.727 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:45:24.734 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:45:24.754 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:45:24.781 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:45:24.789 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:45:25.166 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:45:25.245 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:45:25.276 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:45:25.311 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:45:25.320 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:45:25.759 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:45:25.922 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:45:25.926 +02:00 [INF] Hosting environment: Development
2025-04-11 14:45:25.931 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:45:26.307 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:45:26.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:45:26.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 523.087ms
2025-04-11 14:45:26.909 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:45:26.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.4195ms
2025-04-11 14:45:26.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.1618ms
2025-04-11 14:45:27.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:45:27.330 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 229.5025ms
2025-04-11 14:45:39.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/3 - null null
2025-04-11 14:45:39.255 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:45:39.316 +02:00 [INF] Route matched with {action = "GetRoomById", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:45:39.651 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:45:39.955 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:45:39.989 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API) in 656.0995ms
2025-04-11 14:45:39.997 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:45:40.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/3 - 200 null application/json; charset=utf-8 786.2554ms
2025-04-11 14:46:27.221 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/3 - application/json 99
2025-04-11 14:46:27.243 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:46:27.250 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:46:27.268 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:46:27.462 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:46:27.814 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 535.9949ms
2025-04-11 14:46:27.822 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:46:27.830 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The value passed in must be an enum base or an underlying type for an enum, such as an Int32. (Parameter 'value')
   at System.RuntimeType.GetEnumName(Object value)
   at lambda_method93(Closure, RoomReq, Rooms)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TSource,TDestination](TSource source, TDestination destination)
   at TICKIFY.API.Services.Implementations.RoomServices.UpdateRoomAsync(Int32 id, RoomReq roomToUpdate, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\RoomServices.cs:line 209
   at TICKIFY.API.Controllers.RoomController.UpdateRoom(Int32 id, RoomReq roomReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\RoomController.cs:line 86
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 14:46:27.918 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/3 - 500 null text/plain; charset=utf-8 696.5571ms
2025-04-11 14:54:13.509 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:54:13.657 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:54:13.684 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 14:54:13.699 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 14:54:13.727 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 14:54:13.751 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 14:54:13.758 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 14:54:14.152 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:54:14.193 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:54:14.207 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:54:14.226 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 14:54:14.250 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 14:54:14.840 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 14:54:14.963 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 14:54:14.968 +02:00 [INF] Hosting environment: Development
2025-04-11 14:54:14.971 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 14:54:15.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 14:54:15.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 561.2055ms
2025-04-11 14:54:15.983 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 14:54:16.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 14:54:16.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 26.0626ms
2025-04-11 14:54:16.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 116.6436ms
2025-04-11 14:54:16.230 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 14:54:16.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 231.4416ms
2025-04-11 14:54:26.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/1 - null null
2025-04-11 14:54:26.117 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:54:26.183 +02:00 [INF] Route matched with {action = "GetRoomById", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:54:26.506 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:54:26.812 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:54:26.856 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API) in 653.2736ms
2025-04-11 14:54:26.863 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomById (TICKIFY.API)'
2025-04-11 14:54:26.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 796.7573ms
2025-04-11 14:55:06.515 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 94
2025-04-11 14:55:06.533 +02:00 [INF] CORS policy execution successful.
2025-04-11 14:55:06.539 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:55:06.555 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:55:06.605 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 14:55:06.659 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 94.8842ms
2025-04-11 14:55:06.666 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:55:06.672 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 400 null application/problem+json; charset=utf-8 157.6595ms
2025-04-11 14:57:54.594 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 100
2025-04-11 14:57:54.628 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:57:54.633 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:57:54.660 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 14:57:54.667 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 19.0109ms
2025-04-11 14:57:54.678 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:57:54.687 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 400 null application/problem+json; charset=utf-8 92.6324ms
2025-04-11 14:58:00.720 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 80
2025-04-11 14:58:00.727 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:58:00.735 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:58:00.953 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:58:01.411 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Rooms] SET [BedCount] = @p0, [DateIn] = @p1, [DateOut] = @p2, [HotelId] = @p3, [PricePerNight] = @p4, [RoomNumber] = @p5, [Status] = @p6, [Type] = @p7
OUTPUT 1
WHERE [RoomId] = @p8;
2025-04-11 14:58:01.475 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:58:01.482 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 735.2506ms
2025-04-11 14:58:01.488 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:58:01.494 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 774.5058ms
2025-04-11 14:58:22.117 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 80
2025-04-11 14:58:22.143 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:58:22.148 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:58:22.174 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:58:22.201 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-11 14:58:22.211 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 55.1429ms
2025-04-11 14:58:22.216 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:58:22.220 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 500 null application/problem+json; charset=utf-8 103.329ms
2025-04-11 14:58:32.939 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 80
2025-04-11 14:58:32.957 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:58:32.962 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:58:32.986 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:58:33.004 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-11 14:58:33.010 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 35.1381ms
2025-04-11 14:58:33.018 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:58:33.028 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 500 null application/problem+json; charset=utf-8 89.0086ms
2025-04-11 14:59:00.020 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 80
2025-04-11 14:59:00.043 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:59:00.048 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:59:00.066 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:59:00.106 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Rooms] SET [BedCount] = @p0, [DateIn] = @p1, [DateOut] = @p2, [HotelId] = @p3, [PricePerNight] = @p4, [RoomNumber] = @p5, [Status] = @p6, [Type] = @p7
OUTPUT 1
WHERE [RoomId] = @p8;
2025-04-11 14:59:00.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:59:00.152 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 95.6893ms
2025-04-11 14:59:00.163 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:59:00.170 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 150.1712ms
2025-04-11 14:59:15.527 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/Room/1 - application/json 80
2025-04-11 14:59:15.544 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:59:15.551 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(Int32, TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 14:59:15.573 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__id_0
2025-04-11 14:59:15.590 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Rooms] SET [BedCount] = @p0, [DateIn] = @p1, [DateOut] = @p2, [HotelId] = @p3, [PricePerNight] = @p4, [RoomNumber] = @p5, [Status] = @p6, [Type] = @p7
OUTPUT 1
WHERE [RoomId] = @p8;
2025-04-11 14:59:15.602 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.Rooms.RoomRes'.
2025-04-11 14:59:15.608 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API) in 46.089ms
2025-04-11 14:59:15.615 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.UpdateRoom (TICKIFY.API)'
2025-04-11 14:59:15.621 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/Room/1 - 200 null application/json; charset=utf-8 93.8791ms
2025-04-11 15:02:27.836 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:02:27.984 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:02:28.024 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:02:28.038 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:02:28.101 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 15:02:28.161 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 15:02:28.172 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 15:02:28.695 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:02:28.737 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:02:28.763 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:02:28.785 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:02:28.793 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 15:02:29.317 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 15:02:29.448 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 15:02:29.454 +02:00 [INF] Hosting environment: Development
2025-04-11 15:02:29.460 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 15:02:30.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 15:02:30.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 701.8502ms
2025-04-11 15:02:30.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 15:02:30.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 15:02:30.924 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 34.3866ms
2025-04-11 15:02:30.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 147.1327ms
2025-04-11 15:02:31.138 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 15:02:31.399 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 260.8186ms
2025-04-11 15:02:49.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/search/by-location-rating?location=egypt&starRating=3 - null null
2025-04-11 15:02:49.540 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API)'
2025-04-11 15:02:49.611 +02:00 [INF] Route matched with {action = "GetHotelsByLocationAndRating", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelsByLocationAndRating(System.String, System.Nullable`1[System.Int32], System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-04-11 15:02:50.023 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 15:02:50.068 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Hotels] AS [h]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
ORDER BY [h].[HotelId], [d].[DriverId]
2025-04-11 15:02:50.355 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-11 15:02:50.408 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API) in 780.2269ms
2025-04-11 15:02:50.417 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API)'
2025-04-11 15:02:50.436 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/search/by-location-rating?location=egypt&starRating=3 - 500 null application/problem+json; charset=utf-8 922.6505ms
2025-04-11 15:02:57.757 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/search/by-location-rating?location=egypt&starRating=4 - null null
2025-04-11 15:02:57.774 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API)'
2025-04-11 15:02:57.780 +02:00 [INF] Route matched with {action = "GetHotelsByLocationAndRating", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelsByLocationAndRating(System.String, System.Nullable`1[System.Int32], System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-04-11 15:02:57.935 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Hotels] AS [h]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
ORDER BY [h].[HotelId], [d].[DriverId]
2025-04-11 15:02:57.957 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-11 15:02:57.965 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API) in 177.8321ms
2025-04-11 15:02:57.973 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API)'
2025-04-11 15:02:57.979 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/search/by-location-rating?location=egypt&starRating=4 - 500 null application/problem+json; charset=utf-8 221.7738ms
2025-04-11 15:03:03.487 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Hotel/search/by-location-rating?location=egypt&starRating=5 - null null
2025-04-11 15:03:03.507 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API)'
2025-04-11 15:03:03.512 +02:00 [INF] Route matched with {action = "GetHotelsByLocationAndRating", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelsByLocationAndRating(System.String, System.Nullable`1[System.Int32], System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelController (TICKIFY.API).
2025-04-11 15:03:03.532 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Hotels] AS [h]
LEFT JOIN [Drivers] AS [d] ON [h].[HotelId] = [d].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h].[HotelId] = [r].[HotelId]
ORDER BY [h].[HotelId], [d].[DriverId]
2025-04-11 15:03:03.679 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Hotels, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.hotels.HotelRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:03:03.719 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API) in 198.0521ms
2025-04-11 15:03:03.726 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelController.GetHotelsByLocationAndRating (TICKIFY.API)'
2025-04-11 15:03:03.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Hotel/search/by-location-rating?location=egypt&starRating=5 - 200 null application/json; charset=utf-8 245.3174ms
2025-04-11 15:03:26.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/Room/type/double - null null
2025-04-11 15:03:26.452 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 15:03:26.465 +02:00 [INF] Route matched with {action = "GetRoomsByType", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoomsByType(System.String, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:03:26.587 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__parsedType_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[Type] = @__parsedType_0
2025-04-11 15:03:26.609 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:03:26.629 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API) in 155.5163ms
2025-04-11 15:03:26.636 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetRoomsByType (TICKIFY.API)'
2025-04-11 15:03:26.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/Room/type/double - 200 null application/json; charset=utf-8 216.7151ms
2025-04-11 15:04:08.890 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room - application/json 100
2025-04-11 15:04:08.912 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:04:08.918 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.CreateRoom (TICKIFY.API)'
2025-04-11 15:04:08.932 +02:00 [INF] Route matched with {action = "CreateRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRoom(TICKIFY.API.Contracts.Rooms.RoomReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:04:09.317 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Rooms] ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type])
OUTPUT INSERTED.[RoomId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-04-11 15:04:09.425 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'TICKIFY.API.Contracts.Rooms.HotelRoomsRes'.
2025-04-11 15:04:09.509 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.CreateRoom (TICKIFY.API) in 569.8424ms
2025-04-11 15:04:09.521 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.CreateRoom (TICKIFY.API)'
2025-04-11 15:04:09.531 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room - 201 null application/json; charset=utf-8 644.7245ms
2025-04-11 15:04:28.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - null null
2025-04-11 15:04:28.015 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 15:04:28.032 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 15:04:28.086 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 15:04:28.114 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 15:04:28.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.HotelReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:04:28.211 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 169.8043ms
2025-04-11 15:04:28.216 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 15:04:28.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - 200 null application/json; charset=utf-8 220.9324ms
2025-04-11 15:04:42.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation - null null
2025-04-11 15:04:42.517 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 15:04:42.535 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 15:04:42.553 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 15:04:42.570 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.HotelReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:04:42.578 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 33.3478ms
2025-04-11 15:04:42.585 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 15:04:42.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation - 200 null application/json; charset=utf-8 94.5425ms
2025-04-11 15:06:11.960 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 213
2025-04-11 15:06:11.984 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:06:11.988 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 15:06:11.997 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 15:06:12.060 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationRequest_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 15:06:12.101 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32), @__reservationRequest_CheckOutDate_1='?' (DbType = DateTime2), @__reservationRequest_CheckInDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[RoomId] = @__reservationRequest_RoomId_0 AND [h].[CheckInDate] < @__reservationRequest_CheckOutDate_1 AND [h].[CheckOutDate] > @__reservationRequest_CheckInDate_2
2025-04-11 15:06:12.180 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 15:06:12.228 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Data.Entities.HotelReservations'.
2025-04-11 15:06:12.248 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 243.4731ms
2025-04-11 15:06:12.255 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 15:06:12.259 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 200 null application/json; charset=utf-8 298.5714ms
2025-04-11 15:06:47.180 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 15:06:47.211 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:06:47.215 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:06:47.234 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:06:47.317 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:06:47.344 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:06:47.358 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 116.8262ms
2025-04-11 15:06:47.366 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:06:47.372 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 191.6981ms
2025-04-11 15:10:58.171 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - application/json 213
2025-04-11 15:10:58.202 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:10:58.208 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 15:10:58.216 +02:00 [INF] Route matched with {action = "ReserveRoom", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReserveRoom(TICKIFY.API.Contracts.HotelReservations.RoomReservationRequest) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 15:10:58.241 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationRequest_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 15:10:58.273 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationRequest_RoomId_0='?' (DbType = Int32), @__reservationRequest_CheckOutDate_1='?' (DbType = DateTime2), @__reservationRequest_CheckInDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[RoomId] = @__reservationRequest_RoomId_0 AND [h].[CheckInDate] < @__reservationRequest_CheckOutDate_1 AND [h].[CheckOutDate] > @__reservationRequest_CheckInDate_2
2025-04-11 15:10:58.300 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 15:10:58.318 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.Data.Entities.HotelReservations'.
2025-04-11 15:10:58.327 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API) in 97.503ms
2025-04-11 15:10:58.336 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.ReserveRoom (TICKIFY.API)'
2025-04-11 15:10:58.344 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve-room - 200 null application/json; charset=utf-8 173.0608ms
2025-04-11 15:12:09.549 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 15:12:09.581 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:12:09.588 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:12:09.597 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:12:09.618 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:12:09.646 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:12:09.651 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 40.0733ms
2025-04-11 15:12:09.660 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:12:09.671 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 121.7065ms
2025-04-11 15:19:36.438 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:19:36.624 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:19:36.662 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:19:36.679 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:19:36.720 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 15:19:36.780 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 15:19:36.790 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 15:19:37.438 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:19:37.500 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:19:37.549 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:19:37.597 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:19:37.613 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 15:19:38.255 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 15:19:38.422 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 15:19:38.429 +02:00 [INF] Hosting environment: Development
2025-04-11 15:19:38.439 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 15:19:38.898 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 15:19:39.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 680.6385ms
2025-04-11 15:19:39.585 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 15:19:39.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 15:19:39.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 119.7294ms
2025-04-11 15:19:39.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 229.5934ms
2025-04-11 15:19:40.002 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 15:19:40.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 375.2368ms
2025-04-11 15:19:57.256 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 15:19:57.300 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:19:57.323 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:19:57.390 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:19:57.854 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:19:58.179 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:19:58.251 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 844.2684ms
2025-04-11 15:19:58.260 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:19:58.277 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 1021.8467ms
2025-04-11 15:26:19.980 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:26:20.223 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:26:20.252 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:26:20.275 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:26:20.345 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 15:26:20.407 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 15:26:20.417 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 15:26:21.152 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:26:21.218 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:26:21.249 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:26:21.278 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:26:21.292 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 15:26:22.166 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 15:26:22.340 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 15:26:22.362 +02:00 [INF] Hosting environment: Development
2025-04-11 15:26:22.368 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 15:26:23.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 15:26:24.032 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 736.6957ms
2025-04-11 15:26:24.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 15:26:24.080 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 15:26:24.147 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 66.5853ms
2025-04-11 15:26:24.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 201.9836ms
2025-04-11 15:26:24.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 15:26:24.819 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 371.3075ms
2025-04-11 15:26:49.749 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 109
2025-04-11 15:26:49.802 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:26:49.823 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:26:49.926 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:26:50.624 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:26:51.158 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:26:51.224 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 1275.7201ms
2025-04-11 15:26:51.233 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:26:51.251 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 1505.317ms
2025-04-11 15:28:55.531 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 115
2025-04-11 15:28:55.569 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:28:55.583 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:28:55.589 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:28:55.618 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 15:28:55.676 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 76.6937ms
2025-04-11 15:28:55.684 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:28:55.690 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/problem+json; charset=utf-8 158.8266ms
2025-04-11 15:32:31.306 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 115
2025-04-11 15:32:31.318 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:32:31.321 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:32:31.322 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:32:31.327 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 15:32:31.330 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 5.419ms
2025-04-11 15:32:31.332 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:32:31.333 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/problem+json; charset=utf-8 27.2943ms
2025-04-11 15:33:59.065 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 100
2025-04-11 15:33:59.078 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:33:59.081 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:33:59.082 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:33:59.147 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:33:59.151 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 15:33:59.154 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 69.0694ms
2025-04-11 15:33:59.156 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:33:59.157 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 92.8213ms
2025-04-11 15:35:18.624 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 100
2025-04-11 15:35:18.633 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:35:18.634 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:35:18.635 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:35:18.644 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:35:18.649 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 15:35:18.650 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 12.956ms
2025-04-11 15:35:18.653 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:35:18.654 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 30.8308ms
2025-04-11 15:35:49.019 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 99
2025-04-11 15:35:49.033 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:35:49.035 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:35:49.038 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:35:49.041 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 15:35:49.044 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 3.7254ms
2025-04-11 15:35:49.045 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:35:49.047 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/problem+json; charset=utf-8 27.646ms
2025-04-11 15:36:04.491 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 100
2025-04-11 15:36:04.502 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:36:04.504 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:36:04.505 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:36:04.511 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:36:04.516 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 15:36:04.518 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 10.0312ms
2025-04-11 15:36:04.520 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:36:04.521 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 400 null application/json; charset=utf-8 29.8482ms
2025-04-11 15:36:17.140 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - application/json 100
2025-04-11 15:36:17.146 +02:00 [INF] CORS policy execution successful.
2025-04-11 15:36:17.147 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:36:17.149 +02:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableRooms(TICKIFY.API.Contracts.Rooms.RoomAvailabilityRequest) on controller TICKIFY.API.Controllers.RoomController (TICKIFY.API).
2025-04-11 15:36:17.154 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_HotelId_0='?' (DbType = Int32), @__request_CheckInDate_1='?' (DbType = DateTime2), @__request_CheckOutDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[HotelId] = @__request_HotelId_0 AND NOT EXISTS (
    SELECT 1
    FROM [HotelReservations] AS [h]
    WHERE [h].[RoomId] = [r].[RoomId] AND @__request_CheckInDate_1 < [h].[CheckOutDate] AND @__request_CheckOutDate_2 > [h].[CheckInDate])
2025-04-11 15:36:17.158 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.Rooms, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.Rooms.RoomDto, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 15:36:17.160 +02:00 [INF] Executed action TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API) in 8.4353ms
2025-04-11 15:36:17.161 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.RoomController.GetAvailableRooms (TICKIFY.API)'
2025-04-11 15:36:17.163 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/Room/available-rooms - 200 null application/json; charset=utf-8 22.6879ms
2025-04-11 15:37:51.944 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:37:52.022 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:37:52.033 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:37:52.037 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:37:52.053 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 15:37:52.072 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 15:37:52.078 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 15:37:52.340 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:37:52.372 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:37:52.384 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:37:52.395 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:37:52.399 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 15:37:52.650 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 15:37:52.697 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 15:37:52.708 +02:00 [INF] Hosting environment: Development
2025-04-11 15:37:52.709 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 15:38:16.423 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:38:16.497 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:38:16.510 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:38:16.515 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:38:16.532 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 15:38:16.553 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 15:38:16.558 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 15:38:16.832 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:38:16.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:38:16.874 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:38:16.885 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:38:16.892 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 15:38:17.142 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 15:38:17.192 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 15:38:17.201 +02:00 [INF] Hosting environment: Development
2025-04-11 15:38:17.203 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 15:38:17.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 15:38:18.026 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 221.1087ms
2025-04-11 15:38:18.032 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 15:38:18.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 15:38:18.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 18.9058ms
2025-04-11 15:38:18.078 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.0301ms
2025-04-11 15:38:18.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 15:38:18.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.7144ms
2025-04-11 15:38:59.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - null null
2025-04-11 15:38:59.941 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 15:38:59.965 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 15:39:00.127 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 15:39:00.173 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 15:39:00.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.HotelReservationRes'.
2025-04-11 15:39:00.349 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 377.1344ms
2025-04-11 15:39:00.354 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 15:39:00.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 444.0356ms
2025-04-11 15:39:57.736 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:39:57.808 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:39:57.820 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 15:39:57.824 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 15:39:57.840 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 15:39:57.859 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 15:39:57.863 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 15:39:58.120 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:39:58.146 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:39:58.158 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:39:58.172 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 15:39:58.176 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 15:39:58.427 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 15:39:58.503 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 15:39:58.506 +02:00 [INF] Hosting environment: Development
2025-04-11 15:39:58.508 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 15:39:58.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 15:39:58.933 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 227.5833ms
2025-04-11 15:39:58.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 15:39:58.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 15:39:58.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.0732ms
2025-04-11 15:39:58.983 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.4967ms
2025-04-11 15:39:59.035 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 15:39:59.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.8256ms
2025-04-11 16:13:06.148 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:13:06.222 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:13:06.236 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:13:06.244 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:13:06.264 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 16:13:06.283 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 16:13:06.288 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 16:13:06.547 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:13:06.571 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:13:06.580 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:13:06.590 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:13:06.593 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 16:13:06.855 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 16:13:06.901 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 16:13:06.904 +02:00 [INF] Hosting environment: Development
2025-04-11 16:13:06.905 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 16:13:07.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 16:13:07.692 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 213.4915ms
2025-04-11 16:13:07.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 16:13:07.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 16:13:07.717 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 17.4925ms
2025-04-11 16:13:07.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.0514ms
2025-04-11 16:13:07.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 16:13:07.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.9436ms
2025-04-11 16:14:38.650 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 232
2025-04-11 16:14:38.666 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:14:38.672 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:14:38.696 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:14:38.744 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 16:14:38.765 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 62.3288ms
2025-04-11 16:14:38.769 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:14:38.772 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/problem+json; charset=utf-8 121.4033ms
2025-04-11 16:14:54.708 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 237
2025-04-11 16:14:54.719 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:14:54.721 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:14:54.723 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:14:54.817 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
WHERE [h].[HotelId] = @__reservationReq_HotelId_0
2025-04-11 16:14:54.873 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 16:14:54.880 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 16:14:54.885 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 159.8981ms
2025-04-11 16:14:54.887 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:14:54.892 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 183.7889ms
2025-04-11 16:15:16.358 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 237
2025-04-11 16:15:16.365 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:15:16.366 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:15:16.368 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:15:16.424 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
WHERE [h].[HotelId] = @__reservationReq_HotelId_0
2025-04-11 16:15:16.432 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 16:15:16.473 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32), @__reservationReq_CheckOutData_1='?' (DbType = DateTime2), @__reservationReq_CheckInDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[RoomId] = @__reservationReq_RoomId_0 AND [h].[CheckInDate] < @__reservationReq_CheckOutData_1 AND [h].[CheckOutDate] > @__reservationReq_CheckInDate_2
2025-04-11 16:15:16.602 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 16:15:16.634 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 16:15:16.640 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 269.1428ms
2025-04-11 16:15:16.643 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:15:16.645 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 200 null application/json; charset=utf-8 287.1997ms
2025-04-11 16:17:20.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/4 - null null
2025-04-11 16:17:20.360 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 16:17:20.365 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:17:20.442 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 16:17:20.454 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 16:17:20.532 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.HotelReservationRes'.
2025-04-11 16:17:20.539 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 170.6269ms
2025-04-11 16:17:20.543 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 16:17:20.544 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/4 - 200 null application/json; charset=utf-8 197.049ms
2025-04-11 16:17:47.538 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/24 - null null
2025-04-11 16:17:47.548 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 16:17:47.549 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:17:47.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 16:17:47.564 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.HotelReservationRes'.
2025-04-11 16:17:47.565 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 14.042ms
2025-04-11 16:17:47.567 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 16:17:47.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/24 - 200 null application/json; charset=utf-8 30.8873ms
2025-04-11 16:30:34.127 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:30:34.278 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:30:34.295 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:30:34.301 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:30:34.327 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 16:30:34.364 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 16:30:34.374 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 16:30:34.697 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:30:34.752 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:30:34.778 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:30:34.804 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:30:34.816 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 16:30:35.272 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 16:30:35.409 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 16:30:35.413 +02:00 [INF] Hosting environment: Development
2025-04-11 16:30:35.418 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 16:30:35.720 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 16:30:36.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 457.2175ms
2025-04-11 16:30:36.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 16:30:36.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 16:30:36.210 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 22.0049ms
2025-04-11 16:30:36.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.7627ms
2025-04-11 16:30:36.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 16:30:36.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.5306ms
2025-04-11 16:39:09.035 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:39:09.160 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:39:09.190 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:39:09.205 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:39:09.247 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 16:39:09.278 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 16:39:09.283 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 16:39:09.642 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:39:09.683 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:39:09.705 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:39:09.730 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:39:09.744 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 16:39:10.101 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 16:39:10.157 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 16:39:10.169 +02:00 [INF] Hosting environment: Development
2025-04-11 16:39:10.172 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 16:39:10.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 16:39:11.079 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 374.1891ms
2025-04-11 16:39:11.089 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 16:39:11.114 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 16:39:11.158 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 44.3144ms
2025-04-11 16:39:11.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 114.6224ms
2025-04-11 16:39:11.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 16:39:11.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.7144ms
2025-04-11 16:40:09.850 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 232
2025-04-11 16:40:09.875 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:40:09.891 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:40:09.959 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:40:10.084 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 16:40:10.148 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 170.2728ms
2025-04-11 16:40:10.155 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:40:10.163 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/problem+json; charset=utf-8 313.0089ms
2025-04-11 16:40:20.701 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 237
2025-04-11 16:40:20.713 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:40:20.715 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:40:20.719 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:40:20.737 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 16:40:20.745 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 15.9953ms
2025-04-11 16:40:20.751 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:40:20.758 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/problem+json; charset=utf-8 56.9598ms
2025-04-11 16:40:33.573 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 237
2025-04-11 16:40:33.580 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:40:33.583 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:40:33.587 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:40:33.847 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
FROM [Hotels] AS [h]
WHERE [h].[HotelId] = @__reservationReq_HotelId_0
2025-04-11 16:40:33.984 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 16:40:34.117 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32), @__reservationReq_CheckOutData_1='?' (DbType = DateTime2), @__reservationReq_CheckInDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[RoomId] = @__reservationReq_RoomId_0 AND [h].[CheckInDate] < @__reservationReq_CheckOutData_1 AND [h].[CheckOutDate] > @__reservationReq_CheckInDate_2
2025-04-11 16:40:34.517 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 16:40:34.599 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 16:40:34.620 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 1028.7092ms
2025-04-11 16:40:34.632 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:40:34.649 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 200 null application/json; charset=utf-8 1075.9113ms
2025-04-11 16:46:32.136 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:46:32.318 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:46:32.345 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 16:46:32.358 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 16:46:32.396 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 16:46:32.422 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 16:46:32.428 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 16:46:32.812 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:46:32.845 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:46:32.859 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:46:32.874 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 16:46:32.880 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 16:46:33.204 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 16:46:33.415 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 16:46:33.424 +02:00 [INF] Hosting environment: Development
2025-04-11 16:46:33.432 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 16:46:34.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 16:46:34.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 537.2309ms
2025-04-11 16:46:34.600 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 16:46:34.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 16:46:34.653 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 34.9526ms
2025-04-11 16:46:34.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.2434ms
2025-04-11 16:46:34.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 16:46:34.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 187.399ms
2025-04-11 16:48:55.451 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 233
2025-04-11 16:48:55.502 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:48:55.517 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:48:55.580 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:48:55.706 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 16:48:55.763 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 165.8634ms
2025-04-11 16:48:55.771 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:48:55.777 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/problem+json; charset=utf-8 326.1194ms
2025-04-11 16:49:06.030 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 238
2025-04-11 16:49:06.061 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:49:06.064 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:49:06.069 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:49:06.493 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 16:49:06.681 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 16:49:06.694 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 617.9223ms
2025-04-11 16:49:06.701 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:49:06.717 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 687.7961ms
2025-04-11 16:49:21.901 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 238
2025-04-11 16:49:21.910 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:49:21.913 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:49:21.916 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:49:22.070 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 16:49:22.082 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 16:49:22.090 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 166.9117ms
2025-04-11 16:49:22.097 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:49:22.103 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 201.6921ms
2025-04-11 16:50:21.023 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 237
2025-04-11 16:50:21.040 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:50:21.044 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:50:21.049 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:50:21.076 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 16:50:21.113 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 16:50:21.135 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 16:50:21.143 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 84.1671ms
2025-04-11 16:50:21.150 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:50:21.156 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 132.612ms
2025-04-11 16:51:32.728 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 239
2025-04-11 16:51:32.743 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:51:32.745 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:51:32.749 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:51:32.775 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 16:51:32.800 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 16:51:32.875 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32), @__reservationReq_CheckOutData_1='?' (DbType = DateTime2), @__reservationReq_CheckInDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[RoomId] = @__reservationReq_RoomId_0 AND [h].[CheckInDate] < @__reservationReq_CheckOutData_1 AND [h].[CheckOutDate] > @__reservationReq_CheckInDate_2
2025-04-11 16:51:33.231 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p16='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [HotelReservations] ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
OUTPUT INSERTED.[HotelReservationId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
UPDATE [Rooms] SET [BedCount] = @p8, [DateIn] = @p9, [DateOut] = @p10, [HotelId] = @p11, [PricePerNight] = @p12, [RoomNumber] = @p13, [Status] = @p14, [Type] = @p15
OUTPUT 1
WHERE [RoomId] = @p16;
2025-04-11 16:51:33.291 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 16:51:33.308 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 544.1419ms
2025-04-11 16:51:33.315 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:51:33.322 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 200 null application/json; charset=utf-8 594.2864ms
2025-04-11 16:51:45.318 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 238
2025-04-11 16:51:45.346 +02:00 [INF] CORS policy execution successful.
2025-04-11 16:51:45.350 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:51:45.355 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:51:45.374 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 16:51:45.387 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 16:51:45.399 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 16:51:45.406 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 40.698ms
2025-04-11 16:51:45.413 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 16:51:45.419 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 101.3707ms
2025-04-11 16:52:31.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/23 - null null
2025-04-11 16:52:31.413 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 16:52:31.425 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 16:52:31.497 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 16:52:31.520 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 16:52:31.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.HotelReservationRes'.
2025-04-11 16:52:31.722 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 286.5514ms
2025-04-11 16:52:31.727 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 16:52:31.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/23 - 200 null application/json; charset=utf-8 350.0178ms
2025-04-11 17:06:39.346 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:06:39.519 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:06:39.536 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:06:39.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:06:39.595 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:06:39.646 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:06:39.657 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:06:40.158 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:06:40.206 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:06:40.252 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:06:40.285 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:06:40.298 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:06:41.023 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:06:41.182 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:06:41.187 +02:00 [INF] Hosting environment: Development
2025-04-11 17:06:41.192 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:06:41.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:06:42.275 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 515.6781ms
2025-04-11 17:06:42.285 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:06:42.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:06:42.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 53.5707ms
2025-04-11 17:06:42.433 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 149.3339ms
2025-04-11 17:06:42.553 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:06:42.733 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.5972ms
2025-04-11 17:07:58.306 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/23 - application/json 234
2025-04-11 17:07:58.348 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:07:58.363 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:07:58.421 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:07:58.890 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 17:07:59.886 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 1449.6664ms
2025-04-11 17:07:59.895 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:07:59.907 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'HotelReservations.HotelReservationId' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.UpdateReservationAsync(Int32 id, ReservationReq reservationReq, HotelReservations reservation, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 144
   at TICKIFY.API.Controllers.HotelReservationController.UpdateReservation(Int32 id, ReservationReq reservationReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 17:08:00.041 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/23 - 500 null text/plain; charset=utf-8 1735.0174ms
2025-04-11 17:12:21.660 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:12:21.807 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:12:21.835 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:12:21.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:12:21.893 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:12:21.937 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:12:21.943 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:12:22.405 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:12:22.458 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:12:22.483 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:12:22.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:12:22.532 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:12:23.277 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:12:23.409 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:12:23.416 +02:00 [INF] Hosting environment: Development
2025-04-11 17:12:23.423 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:12:23.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:12:24.451 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 588.6048ms
2025-04-11 17:12:24.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:12:24.502 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:12:24.544 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 41.7114ms
2025-04-11 17:12:24.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 150.4701ms
2025-04-11 17:12:24.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:12:24.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.0054ms
2025-04-11 17:12:40.840 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 234
2025-04-11 17:12:40.870 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:12:40.883 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 17:12:40.945 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:12:41.498 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 17:12:41.722 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 17:12:41.744 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 782.2097ms
2025-04-11 17:12:41.753 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 17:12:41.770 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 930.0008ms
2025-04-11 17:13:14.746 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - application/json 233
2025-04-11 17:13:14.778 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:13:14.782 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 17:13:14.788 +02:00 [INF] Route matched with {action = "CreateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:13:14.948 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__reservationReq_HotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelId], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelId], [h].[Category], [h].[Location], [h].[Name], [h].[StarRating]
    FROM [Hotels] AS [h]
    WHERE [h].[HotelId] = @__reservationReq_HotelId_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId] = [d].[HotelId]
ORDER BY [t].[HotelId]
2025-04-11 17:13:14.989 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationReq_RoomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [Rooms] AS [r]
WHERE [r].[RoomId] = @__reservationReq_RoomId_0 AND [r].[Status] = N'Available'
2025-04-11 17:13:15.001 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'TICKIFY.API.Abstracts.Error'.
2025-04-11 17:13:15.009 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API) in 211.217ms
2025-04-11 17:13:15.015 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.CreateReservation (TICKIFY.API)'
2025-04-11 17:13:15.022 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5032/api/HotelReservation/reserve - 400 null application/json; charset=utf-8 277.2641ms
2025-04-11 17:14:41.564 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:14:41.675 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:14:41.699 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:14:41.722 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:14:41.771 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:14:41.816 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:14:41.823 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:14:42.271 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:14:42.330 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:14:42.349 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:14:42.401 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:14:42.412 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:14:43.090 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:14:43.288 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:14:43.294 +02:00 [INF] Hosting environment: Development
2025-04-11 17:14:43.299 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:14:43.697 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:14:44.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 645.0797ms
2025-04-11 17:14:44.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:14:44.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:14:44.401 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 35.1944ms
2025-04-11 17:14:44.468 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.5739ms
2025-04-11 17:14:44.593 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:14:44.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.8654ms
2025-04-11 17:14:51.562 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - null null
2025-04-11 17:14:51.594 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 17:14:51.660 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:14:52.110 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 17:14:52.160 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 17:14:52.637 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.HotelReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 17:14:52.708 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 1030.6863ms
2025-04-11 17:14:52.716 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 17:14:52.733 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - 200 null application/json; charset=utf-8 1170.8329ms
2025-04-11 17:19:28.096 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:19:28.255 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:19:28.275 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:19:28.285 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:19:28.325 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:19:28.367 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:19:28.382 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:19:29.026 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:19:29.086 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:19:29.113 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:19:29.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:19:29.157 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:19:29.674 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:19:29.800 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:19:29.803 +02:00 [INF] Hosting environment: Development
2025-04-11 17:19:29.812 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:19:30.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:19:31.086 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 514.4489ms
2025-04-11 17:19:31.102 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:19:31.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:19:31.151 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 25.9478ms
2025-04-11 17:19:31.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.0489ms
2025-04-11 17:19:31.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:19:31.584 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.6149ms
2025-04-11 17:19:40.065 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - null null
2025-04-11 17:19:40.113 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 17:19:40.190 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:19:40.621 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 17:19:40.663 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 17:19:41.157 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.ReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 17:19:41.198 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 990.3227ms
2025-04-11 17:19:41.206 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 17:19:41.231 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - 200 null application/json; charset=utf-8 1166.2938ms
2025-04-11 17:21:17.696 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 191
2025-04-11 17:21:17.720 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:21:17.726 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:21:17.746 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:21:17.846 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 17:21:17.903 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 145.9326ms
2025-04-11 17:21:17.911 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:21:17.917 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 221.3554ms
2025-04-11 17:21:27.236 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 190
2025-04-11 17:21:27.252 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:21:27.257 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:21:27.262 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:21:27.556 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 17:30:00.063 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:30:00.282 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:30:00.329 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:30:00.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:30:00.413 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:30:00.458 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:30:00.467 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:30:00.995 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:30:01.065 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:30:01.103 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:30:01.149 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:30:01.161 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:30:01.710 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:30:01.820 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:30:01.832 +02:00 [INF] Hosting environment: Development
2025-04-11 17:30:01.838 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:30:02.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:30:03.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 627.8692ms
2025-04-11 17:30:03.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:30:03.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:30:03.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 39.0435ms
2025-04-11 17:30:03.614 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 217.1017ms
2025-04-11 17:30:03.737 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:30:03.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/favicon-32x32.png - null null
2025-04-11 17:30:03.864 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-11 17:30:03.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/favicon-32x32.png - 200 628 image/png 72.3418ms
2025-04-11 17:30:04.083 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 346.3603ms
2025-04-11 17:30:12.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - null null
2025-04-11 17:30:12.966 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 17:30:13.031 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:30:13.544 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 17:30:13.586 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 17:30:14.112 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.ReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 17:30:14.146 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 1098.098ms
2025-04-11 17:30:14.154 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 17:30:14.172 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - 200 null application/json; charset=utf-8 1256.5284ms
2025-04-11 17:31:29.642 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 278
2025-04-11 17:31:29.666 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:31:29.672 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:31:29.691 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:31:29.760 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 17:31:29.808 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 107.7552ms
2025-04-11 17:31:29.815 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:31:29.821 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 179.7376ms
2025-04-11 17:31:38.749 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 277
2025-04-11 17:31:38.776 +02:00 [INF] CORS policy execution successful.
2025-04-11 17:31:38.784 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:31:38.792 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:31:39.112 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 17:31:39.676 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 874.3015ms
2025-04-11 17:31:39.684 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 17:31:39.693 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'HotelReservations.HotelReservationId' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.UpdateReservationAsync(Int32 id, ReservationReq reservationReq, HotelReservations reservation, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 157
   at TICKIFY.API.Controllers.HotelReservationController.UpdateReservation(Int32 id, ReservationReq reservationReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 17:31:39.790 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 500 null text/plain; charset=utf-8 1042.6839ms
2025-04-11 17:41:06.645 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:41:06.806 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:41:06.830 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:41:06.840 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:41:06.891 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:41:06.938 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:41:06.956 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:41:07.468 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:41:07.763 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 200), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (Size = 200), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (Size = 200), @p18='?' (Size = 4000), @p19='?' (DbType = Int32), @p20='?' (Size = 4000), @p21='?' (Size = 200), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (Size = 200), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (Size = 200), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (Size = 4000), @p33='?' (Size = 200), @p34='?' (Size = 4000), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 200), @p38='?' (Size = 4000), @p39='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7),
(@p32, @p33, @p34, @p35, 8),
(@p36, @p37, @p38, @p39, 9)) AS i ([Category], [Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Category], [Location], [Name], [StarRating])
VALUES (i.[Category], i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-04-11 17:41:07.859 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:41:07.999 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 4000), @p23='?' (Size = 100), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Int32), @p36='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p37='?' (DbType = Int32), @p38='?' (Size = 4000), @p39='?' (Size = 100), @p40='?' (DbType = Int32), @p41='?' (DbType = DateTime2), @p42='?' (DbType = DateTime2), @p43='?' (DbType = Int32), @p44='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p45='?' (DbType = Int32), @p46='?' (Size = 4000), @p47='?' (Size = 100), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p55='?' (Size = 100), @p56='?' (DbType = Int32), @p57='?' (DbType = DateTime2), @p58='?' (DbType = DateTime2), @p59='?' (DbType = Int32), @p60='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p61='?' (DbType = Int32), @p62='?' (Size = 4000), @p63='?' (Size = 100), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = DateTime2), @p67='?' (DbType = Int32), @p68='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 4000), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Int32), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (Size = 4000), @p79='?' (Size = 100), @p80='?' (DbType = Int32), @p81='?' (DbType = DateTime2), @p82='?' (DbType = DateTime2), @p83='?' (DbType = Int32), @p84='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p85='?' (DbType = Int32), @p86='?' (Size = 4000), @p87='?' (Size = 100), @p88='?' (DbType = Int32), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Int32), @p92='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 4000), @p95='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Rooms] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type])
VALUES (i.[BedCount], i.[DateIn], i.[DateOut], i.[HotelId], i.[PricePerNight], i.[RoomNumber], i.[Status], i.[Type])
OUTPUT INSERTED.[RoomId], i._Position;
2025-04-11 17:41:08.034 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:41:08.118 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 50), @p11='?' (Size = 100), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Int32), @p20='?' (Size = 50), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Size = 50), @p26='?' (Size = 100), @p27='?' (DbType = Int32), @p28='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 50), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = Int32), @p35='?' (Size = 50), @p36='?' (Size = 100), @p37='?' (DbType = Int32), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p39='?' (DbType = Int32), @p40='?' (Size = 50), @p41='?' (Size = 100), @p42='?' (DbType = Int32), @p43='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Size = 100), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p49='?' (DbType = Int32), @p50='?' (Size = 50), @p51='?' (Size = 100), @p52='?' (DbType = Int32), @p53='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (Size = 100), @p57='?' (DbType = Int32), @p58='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (Size = 50), @p61='?' (Size = 100), @p62='?' (DbType = Int32), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (DbType = Int32), @p65='?' (Size = 50), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 50), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Size = 100), @p77='?' (DbType = Int32), @p78='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p79='?' (DbType = Int32), @p80='?' (Size = 50), @p81='?' (Size = 100), @p82='?' (DbType = Int32), @p83='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p84='?' (DbType = Int32), @p85='?' (Size = 50), @p86='?' (Size = 100), @p87='?' (DbType = Int32), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (Size = 50), @p91='?' (Size = 100), @p92='?' (DbType = Int32), @p93='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p94='?' (DbType = Int32), @p95='?' (Size = 50), @p96='?' (Size = 100), @p97='?' (DbType = Int32), @p98='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p99='?' (DbType = Int32), @p100='?' (Size = 50), @p101='?' (Size = 100), @p102='?' (DbType = Int32), @p103='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Size = 100), @p107='?' (DbType = Int32), @p108='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p109='?' (DbType = Int32), @p110='?' (Size = 50), @p111='?' (Size = 100), @p112='?' (DbType = Int32), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = Int32), @p115='?' (Size = 50), @p116='?' (Size = 100), @p117='?' (DbType = Int32), @p118='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?' (Size = 50), @p121='?' (Size = 100), @p122='?' (DbType = Int32), @p123='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p124='?' (DbType = Int32), @p125='?' (Size = 50), @p126='?' (Size = 100), @p127='?' (DbType = Int32), @p128='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p129='?' (DbType = Int32), @p130='?' (Size = 50), @p131='?' (Size = 100), @p132='?' (DbType = Int32), @p133='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p134='?' (DbType = Int32), @p135='?' (Size = 50), @p136='?' (Size = 100), @p137='?' (DbType = Int32), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (Size = 50), @p141='?' (Size = 100), @p142='?' (DbType = Int32), @p143='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p144='?' (DbType = Int32), @p145='?' (Size = 50), @p146='?' (Size = 100), @p147='?' (DbType = Int32), @p148='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p149='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Drivers] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5),
(@p30, @p31, @p32, @p33, @p34, 6),
(@p35, @p36, @p37, @p38, @p39, 7),
(@p40, @p41, @p42, @p43, @p44, 8),
(@p45, @p46, @p47, @p48, @p49, 9),
(@p50, @p51, @p52, @p53, @p54, 10),
(@p55, @p56, @p57, @p58, @p59, 11),
(@p60, @p61, @p62, @p63, @p64, 12),
(@p65, @p66, @p67, @p68, @p69, 13),
(@p70, @p71, @p72, @p73, @p74, 14),
(@p75, @p76, @p77, @p78, @p79, 15),
(@p80, @p81, @p82, @p83, @p84, 16),
(@p85, @p86, @p87, @p88, @p89, 17),
(@p90, @p91, @p92, @p93, @p94, 18),
(@p95, @p96, @p97, @p98, @p99, 19),
(@p100, @p101, @p102, @p103, @p104, 20),
(@p105, @p106, @p107, @p108, @p109, 21),
(@p110, @p111, @p112, @p113, @p114, 22),
(@p115, @p116, @p117, @p118, @p119, 23),
(@p120, @p121, @p122, @p123, @p124, 24),
(@p125, @p126, @p127, @p128, @p129, 25),
(@p130, @p131, @p132, @p133, @p134, 26),
(@p135, @p136, @p137, @p138, @p139, 27),
(@p140, @p141, @p142, @p143, @p144, 28),
(@p145, @p146, @p147, @p148, @p149, 29)) AS i ([CarType], [DriverName], [HotelId], [Price], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CarType], [DriverName], [HotelId], [Price], [StarRating])
VALUES (i.[CarType], i.[DriverName], i.[HotelId], i.[Price], i.[StarRating])
OUTPUT INSERTED.[DriverId], i._Position;
2025-04-11 17:41:08.170 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:41:08.263 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 255), @p11='?' (Size = 255), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 255), @p19='?' (Size = 255), @p20='?' (DbType = Int32), @p21='?' (Size = 20), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (DbType = DateTime2), @p26='?' (Size = 255), @p27='?' (Size = 255), @p28='?' (DbType = Int32), @p29='?' (Size = 20), @p30='?' (DbType = Int32), @p31='?' (Size = 4000), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (Size = 255), @p36='?' (DbType = Int32), @p37='?' (Size = 20), @p38='?' (DbType = Int32), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (Size = 255), @p43='?' (Size = 255), @p44='?' (DbType = Int32), @p45='?' (Size = 20), @p46='?' (DbType = Int32), @p47='?' (Size = 4000), @p48='?' (DbType = DateTime2), @p49='?' (DbType = DateTime2), @p50='?' (Size = 255), @p51='?' (Size = 255), @p52='?' (DbType = Int32), @p53='?' (Size = 20), @p54='?' (DbType = Int32), @p55='?' (Size = 4000), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 255), @p59='?' (Size = 255), @p60='?' (DbType = Int32), @p61='?' (Size = 20), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = DateTime2), @p65='?' (DbType = DateTime2), @p66='?' (Size = 255), @p67='?' (Size = 255), @p68='?' (DbType = Int32), @p69='?' (Size = 20), @p70='?' (DbType = Int32), @p71='?' (Size = 4000), @p72='?' (DbType = DateTime2), @p73='?' (DbType = DateTime2), @p74='?' (Size = 255), @p75='?' (Size = 255), @p76='?' (DbType = Int32), @p77='?' (Size = 20), @p78='?' (DbType = Int32), @p79='?' (Size = 4000), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 255), @p83='?' (Size = 255), @p84='?' (DbType = Int32), @p85='?' (Size = 20), @p86='?' (DbType = Int32), @p87='?' (Size = 4000), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime2), @p90='?' (Size = 255), @p91='?' (Size = 255), @p92='?' (DbType = Int32), @p93='?' (Size = 20), @p94='?' (DbType = Int32), @p95='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HotelReservations] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
VALUES (i.[CheckInDate], i.[CheckOutDate], i.[Email], i.[GuestName], i.[HotelId], i.[Phone], i.[RoomId], i.[Status])
OUTPUT INSERTED.[HotelReservationId], i._Position;
2025-04-11 17:41:08.292 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:41:08.490 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:41:08.496 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:41:08.500 +02:00 [INF] Hosting environment: Development
2025-04-11 17:41:08.503 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:47:43.380 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:47:43.566 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:47:43.597 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:47:43.611 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:47:43.653 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:47:43.707 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:47:43.722 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:47:44.503 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:47:44.596 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:47:44.636 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:47:44.706 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:47:44.722 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:47:45.855 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:47:46.024 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:47:46.032 +02:00 [INF] Hosting environment: Development
2025-04-11 17:47:46.037 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:47:48.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:47:49.449 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 1169.7348ms
2025-04-11 17:47:49.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:47:49.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:47:49.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 84.9502ms
2025-04-11 17:47:51.154 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1694.8327ms
2025-04-11 17:47:51.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:47:51.784 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 447.8609ms
2025-04-11 17:48:08.957 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/4 - null null
2025-04-11 17:48:09.002 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 17:48:09.091 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:48:09.583 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 17:48:09.778 +02:00 [ERR] Failed executing DbCommand (96ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[TotalPrice], [t].[UserId], [t].[HotelId0], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h].[TotalPrice], [h].[UserId], [h0].[HotelId] AS [HotelId0], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[UserId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 17:48:09.881 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'TotalPrice'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:99b8c08d-a1c1-4e3c-b13b-0bfe29d4e04f
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'TotalPrice'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:99b8c08d-a1c1-4e3c-b13b-0bfe29d4e04f
Error Number:207,State:1,Class:16
2025-04-11 17:48:10.345 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 1235.4887ms
2025-04-11 17:48:10.354 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 17:48:10.369 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'TotalPrice'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.GetReservationByIdAsync(Int32 id, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 46
   at TICKIFY.API.Controllers.HotelReservationController.GetReservationById(Int32 id, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:99b8c08d-a1c1-4e3c-b13b-0bfe29d4e04f
Error Number:207,State:1,Class:16
2025-04-11 17:48:10.443 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/4 - 500 null text/plain; charset=utf-8 1486.209ms
2025-04-11 17:50:40.463 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:50:40.717 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:50:40.770 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:50:40.790 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:50:40.865 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:50:40.953 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:50:40.966 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:50:41.658 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:50:41.741 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:50:41.800 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:50:41.853 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:50:41.867 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:50:42.611 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:50:42.780 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:50:42.788 +02:00 [INF] Hosting environment: Development
2025-04-11 17:50:42.793 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:50:43.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:50:43.979 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 706.0813ms
2025-04-11 17:50:44.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:50:44.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:50:44.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 62.2823ms
2025-04-11 17:50:44.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 243.8056ms
2025-04-11 17:50:44.460 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:50:44.804 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 344.3564ms
2025-04-11 17:50:59.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/3 - null null
2025-04-11 17:50:59.394 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 17:50:59.458 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:51:00.032 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 17:51:00.229 +02:00 [ERR] Failed executing DbCommand (94ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[TotalPrice], [t].[UserId], [t].[HotelId0], [t].[Category], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h].[TotalPrice], [h].[UserId], [h0].[HotelId] AS [HotelId0], [h0].[Category], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 17:51:00.382 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'TICKIFY.API.Persistence.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83257f9e-1f0e-4c55-b7f6-0e7a6a832a9f
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83257f9e-1f0e-4c55-b7f6-0e7a6a832a9f
Error Number:207,State:1,Class:16
2025-04-11 17:51:00.803 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 1326.9513ms
2025-04-11 17:51:00.819 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 17:51:00.843 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'TotalPrice'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.GetReservationByIdAsync(Int32 id, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 46
   at TICKIFY.API.Controllers.HotelReservationController.GetReservationById(Int32 id, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:83257f9e-1f0e-4c55-b7f6-0e7a6a832a9f
Error Number:207,State:1,Class:16
2025-04-11 17:51:00.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/3 - 500 null text/plain; charset=utf-8 1583.7834ms
2025-04-11 17:57:01.893 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:57:01.956 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:57:01.962 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:57:01.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:57:01.981 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:57:01.998 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:57:02.002 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:57:02.202 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:57:02.325 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 200), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 200), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (Size = 200), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (Size = 200), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (Size = 200), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (Size = 200), @p25='?' (Size = 4000), @p26='?' (DbType = Int32), @p27='?' (Size = 200), @p28='?' (Size = 4000), @p29='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Hotels] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4),
(@p15, @p16, @p17, 5),
(@p18, @p19, @p20, 6),
(@p21, @p22, @p23, 7),
(@p24, @p25, @p26, 8),
(@p27, @p28, @p29, 9)) AS i ([Location], [Name], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Location], [Name], [StarRating])
VALUES (i.[Location], i.[Name], i.[StarRating])
OUTPUT INSERTED.[HotelId], i._Position;
2025-04-11 17:57:02.361 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:57:02.411 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (Size = 100), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 4000), @p23='?' (Size = 100), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Int32), @p36='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p37='?' (DbType = Int32), @p38='?' (Size = 4000), @p39='?' (Size = 100), @p40='?' (DbType = Int32), @p41='?' (DbType = DateTime2), @p42='?' (DbType = DateTime2), @p43='?' (DbType = Int32), @p44='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p45='?' (DbType = Int32), @p46='?' (Size = 4000), @p47='?' (Size = 100), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p55='?' (Size = 100), @p56='?' (DbType = Int32), @p57='?' (DbType = DateTime2), @p58='?' (DbType = DateTime2), @p59='?' (DbType = Int32), @p60='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p61='?' (DbType = Int32), @p62='?' (Size = 4000), @p63='?' (Size = 100), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = DateTime2), @p67='?' (DbType = Int32), @p68='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 4000), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Int32), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (Size = 4000), @p79='?' (Size = 100), @p80='?' (DbType = Int32), @p81='?' (DbType = DateTime2), @p82='?' (DbType = DateTime2), @p83='?' (DbType = Int32), @p84='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p85='?' (DbType = Int32), @p86='?' (Size = 4000), @p87='?' (Size = 100), @p88='?' (DbType = Int32), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Int32), @p92='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p93='?' (DbType = Int32), @p94='?' (Size = 4000), @p95='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Rooms] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BedCount], [DateIn], [DateOut], [HotelId], [PricePerNight], [RoomNumber], [Status], [Type])
VALUES (i.[BedCount], i.[DateIn], i.[DateOut], i.[HotelId], i.[PricePerNight], i.[RoomNumber], i.[Status], i.[Type])
OUTPUT INSERTED.[RoomId], i._Position;
2025-04-11 17:57:02.424 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:57:02.456 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 50), @p11='?' (Size = 100), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Int32), @p20='?' (Size = 50), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = Int32), @p25='?' (Size = 50), @p26='?' (Size = 100), @p27='?' (DbType = Int32), @p28='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (Size = 50), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p34='?' (DbType = Int32), @p35='?' (Size = 50), @p36='?' (Size = 100), @p37='?' (DbType = Int32), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p39='?' (DbType = Int32), @p40='?' (Size = 50), @p41='?' (Size = 100), @p42='?' (DbType = Int32), @p43='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Size = 100), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p49='?' (DbType = Int32), @p50='?' (Size = 50), @p51='?' (Size = 100), @p52='?' (DbType = Int32), @p53='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p54='?' (DbType = Int32), @p55='?' (Size = 50), @p56='?' (Size = 100), @p57='?' (DbType = Int32), @p58='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (Size = 50), @p61='?' (Size = 100), @p62='?' (DbType = Int32), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (DbType = Int32), @p65='?' (Size = 50), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p69='?' (DbType = Int32), @p70='?' (Size = 50), @p71='?' (Size = 100), @p72='?' (DbType = Int32), @p73='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Size = 100), @p77='?' (DbType = Int32), @p78='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p79='?' (DbType = Int32), @p80='?' (Size = 50), @p81='?' (Size = 100), @p82='?' (DbType = Int32), @p83='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p84='?' (DbType = Int32), @p85='?' (Size = 50), @p86='?' (Size = 100), @p87='?' (DbType = Int32), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (Size = 50), @p91='?' (Size = 100), @p92='?' (DbType = Int32), @p93='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p94='?' (DbType = Int32), @p95='?' (Size = 50), @p96='?' (Size = 100), @p97='?' (DbType = Int32), @p98='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p99='?' (DbType = Int32), @p100='?' (Size = 50), @p101='?' (Size = 100), @p102='?' (DbType = Int32), @p103='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Size = 100), @p107='?' (DbType = Int32), @p108='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p109='?' (DbType = Int32), @p110='?' (Size = 50), @p111='?' (Size = 100), @p112='?' (DbType = Int32), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (DbType = Int32), @p115='?' (Size = 50), @p116='?' (Size = 100), @p117='?' (DbType = Int32), @p118='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?' (Size = 50), @p121='?' (Size = 100), @p122='?' (DbType = Int32), @p123='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p124='?' (DbType = Int32), @p125='?' (Size = 50), @p126='?' (Size = 100), @p127='?' (DbType = Int32), @p128='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p129='?' (DbType = Int32), @p130='?' (Size = 50), @p131='?' (Size = 100), @p132='?' (DbType = Int32), @p133='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p134='?' (DbType = Int32), @p135='?' (Size = 50), @p136='?' (Size = 100), @p137='?' (DbType = Int32), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (DbType = Int32), @p140='?' (Size = 50), @p141='?' (Size = 100), @p142='?' (DbType = Int32), @p143='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p144='?' (DbType = Int32), @p145='?' (Size = 50), @p146='?' (Size = 100), @p147='?' (DbType = Int32), @p148='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p149='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Drivers] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5),
(@p30, @p31, @p32, @p33, @p34, 6),
(@p35, @p36, @p37, @p38, @p39, 7),
(@p40, @p41, @p42, @p43, @p44, 8),
(@p45, @p46, @p47, @p48, @p49, 9),
(@p50, @p51, @p52, @p53, @p54, 10),
(@p55, @p56, @p57, @p58, @p59, 11),
(@p60, @p61, @p62, @p63, @p64, 12),
(@p65, @p66, @p67, @p68, @p69, 13),
(@p70, @p71, @p72, @p73, @p74, 14),
(@p75, @p76, @p77, @p78, @p79, 15),
(@p80, @p81, @p82, @p83, @p84, 16),
(@p85, @p86, @p87, @p88, @p89, 17),
(@p90, @p91, @p92, @p93, @p94, 18),
(@p95, @p96, @p97, @p98, @p99, 19),
(@p100, @p101, @p102, @p103, @p104, 20),
(@p105, @p106, @p107, @p108, @p109, 21),
(@p110, @p111, @p112, @p113, @p114, 22),
(@p115, @p116, @p117, @p118, @p119, 23),
(@p120, @p121, @p122, @p123, @p124, 24),
(@p125, @p126, @p127, @p128, @p129, 25),
(@p130, @p131, @p132, @p133, @p134, 26),
(@p135, @p136, @p137, @p138, @p139, 27),
(@p140, @p141, @p142, @p143, @p144, 28),
(@p145, @p146, @p147, @p148, @p149, 29)) AS i ([CarType], [DriverName], [HotelId], [Price], [StarRating], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CarType], [DriverName], [HotelId], [Price], [StarRating])
VALUES (i.[CarType], i.[DriverName], i.[HotelId], i.[Price], i.[StarRating])
OUTPUT INSERTED.[DriverId], i._Position;
2025-04-11 17:57:02.469 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:57:02.505 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 255), @p11='?' (Size = 255), @p12='?' (DbType = Int32), @p13='?' (Size = 20), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 255), @p19='?' (Size = 255), @p20='?' (DbType = Int32), @p21='?' (Size = 20), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (DbType = DateTime2), @p26='?' (Size = 255), @p27='?' (Size = 255), @p28='?' (DbType = Int32), @p29='?' (Size = 20), @p30='?' (DbType = Int32), @p31='?' (Size = 4000), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 255), @p35='?' (Size = 255), @p36='?' (DbType = Int32), @p37='?' (Size = 20), @p38='?' (DbType = Int32), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (Size = 255), @p43='?' (Size = 255), @p44='?' (DbType = Int32), @p45='?' (Size = 20), @p46='?' (DbType = Int32), @p47='?' (Size = 4000), @p48='?' (DbType = DateTime2), @p49='?' (DbType = DateTime2), @p50='?' (Size = 255), @p51='?' (Size = 255), @p52='?' (DbType = Int32), @p53='?' (Size = 20), @p54='?' (DbType = Int32), @p55='?' (Size = 4000), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 255), @p59='?' (Size = 255), @p60='?' (DbType = Int32), @p61='?' (Size = 20), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = DateTime2), @p65='?' (DbType = DateTime2), @p66='?' (Size = 255), @p67='?' (Size = 255), @p68='?' (DbType = Int32), @p69='?' (Size = 20), @p70='?' (DbType = Int32), @p71='?' (Size = 4000), @p72='?' (DbType = DateTime2), @p73='?' (DbType = DateTime2), @p74='?' (Size = 255), @p75='?' (Size = 255), @p76='?' (DbType = Int32), @p77='?' (Size = 20), @p78='?' (DbType = Int32), @p79='?' (Size = 4000), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 255), @p83='?' (Size = 255), @p84='?' (DbType = Int32), @p85='?' (Size = 20), @p86='?' (DbType = Int32), @p87='?' (Size = 4000), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime2), @p90='?' (Size = 255), @p91='?' (Size = 255), @p92='?' (DbType = Int32), @p93='?' (Size = 20), @p94='?' (DbType = Int32), @p95='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [HotelReservations] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 5),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, 6),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 7),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 8),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 9),
(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, 10),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, 11)) AS i ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CheckInDate], [CheckOutDate], [Email], [GuestName], [HotelId], [Phone], [RoomId], [Status])
VALUES (i.[CheckInDate], i.[CheckOutDate], i.[Email], i.[GuestName], i.[HotelId], i.[Phone], i.[RoomId], i.[Status])
OUTPUT INSERTED.[HotelReservationId], i._Position;
2025-04-11 17:57:02.511 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:57:02.594 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:57:02.597 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:57:02.598 +02:00 [INF] Hosting environment: Development
2025-04-11 17:57:02.600 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:58:18.891 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:58:18.963 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:58:18.976 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 17:58:18.980 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 17:58:18.996 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 17:58:19.016 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 17:58:19.021 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 17:58:19.310 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:58:19.339 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:58:19.352 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:58:19.366 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 17:58:19.370 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 17:58:19.636 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 17:58:19.697 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 17:58:19.700 +02:00 [INF] Hosting environment: Development
2025-04-11 17:58:19.702 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 17:58:19.905 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 17:58:20.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 265.8489ms
2025-04-11 17:58:20.168 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 17:58:20.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 17:58:20.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 18.8489ms
2025-04-11 17:58:20.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.6224ms
2025-04-11 17:58:20.283 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 17:58:20.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.876ms
2025-04-11 17:58:29.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - null null
2025-04-11 17:58:29.645 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 17:58:29.673 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 17:58:29.866 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 17:58:29.923 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 17:58:30.105 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.HotelReservationRes'.
2025-04-11 17:58:30.120 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 436.9711ms
2025-04-11 17:58:30.123 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 17:58:30.129 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 499.9013ms
2025-04-11 18:02:18.220 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:02:18.299 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:02:18.310 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:02:18.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:02:18.331 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:02:18.350 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:02:18.356 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:02:18.613 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:02:18.638 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:02:18.647 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:02:18.658 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:02:18.662 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:02:18.979 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:02:19.031 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:02:19.040 +02:00 [INF] Hosting environment: Development
2025-04-11 18:02:19.042 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:02:19.732 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:02:19.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 255.7486ms
2025-04-11 18:02:19.985 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:02:19.995 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:02:20.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 14.9671ms
2025-04-11 18:02:20.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.663ms
2025-04-11 18:02:20.088 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:02:20.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.6237ms
2025-04-11 18:02:30.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/3 - null null
2025-04-11 18:02:31.007 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:02:31.034 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:02:31.198 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:02:31.238 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 18:02:31.409 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:02:31.421 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 377.5391ms
2025-04-11 18:02:31.425 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:02:31.431 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/3 - 200 null application/json; charset=utf-8 437.5119ms
2025-04-11 18:03:42.177 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/3 - application/json 240
2025-04-11 18:03:42.185 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:03:42.187 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:03:42.193 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:03:42.266 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:03:42.425 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 228.0031ms
2025-04-11 18:03:42.428 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:03:42.431 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'HotelReservations.HotelReservationId' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.UpdateReservationAsync(Int32 id, ReservationReq reservationReq, HotelReservations reservation, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 157
   at TICKIFY.API.Controllers.HotelReservationController.UpdateReservation(Int32 id, ReservationReq reservationReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 18:03:42.459 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/3 - 500 null text/plain; charset=utf-8 282.697ms
2025-04-11 18:13:41.295 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:13:41.367 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:13:41.378 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:13:41.381 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:13:41.396 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:13:41.415 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:13:41.419 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:13:41.678 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:13:41.702 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:13:41.711 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:13:41.720 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:13:41.724 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:13:41.961 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:13:42.008 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:13:42.016 +02:00 [INF] Hosting environment: Development
2025-04-11 18:13:42.018 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:13:42.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:13:42.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 212.1684ms
2025-04-11 18:13:42.856 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:13:42.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:13:42.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.5064ms
2025-04-11 18:13:42.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3122ms
2025-04-11 18:13:42.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:13:43.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.4844ms
2025-04-11 18:14:03.853 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5032/api/HotelReservation/12 - null null
2025-04-11 18:14:03.864 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:14:03.870 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.DeleteReservation (TICKIFY.API)'
2025-04-11 18:14:03.893 +02:00 [INF] Route matched with {action = "DeleteReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteReservation(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:14:04.051 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:14:04.091 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 18:14:04.260 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status]
FROM [HotelReservations] AS [h]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:14:04.364 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [HotelReservations]
OUTPUT 1
WHERE [HotelReservationId] = @p0;
2025-04-11 18:14:04.384 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-11 18:14:04.390 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.DeleteReservation (TICKIFY.API) in 489.381ms
2025-04-11 18:14:04.393 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.DeleteReservation (TICKIFY.API)'
2025-04-11 18:14:04.399 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5032/api/HotelReservation/12 - 204 null null 546.1745ms
2025-04-11 18:14:49.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - null null
2025-04-11 18:14:49.260 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 18:14:49.266 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:14:49.328 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:14:49.341 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 18:14:49.378 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.ReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 18:14:49.386 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 116.5437ms
2025-04-11 18:14:49.389 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 18:14:49.391 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - 200 null application/json; charset=utf-8 142.823ms
2025-04-11 18:16:12.322 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:16:12.398 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:16:12.409 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:16:12.413 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:16:12.428 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:16:12.447 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:16:12.452 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:16:12.707 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:16:12.733 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:16:12.744 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:16:12.756 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:16:12.759 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:16:13.001 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:16:13.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:16:13.056 +02:00 [INF] Hosting environment: Development
2025-04-11 18:16:13.057 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:16:13.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:16:13.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 214.167ms
2025-04-11 18:16:13.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:16:13.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:16:13.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 19.8239ms
2025-04-11 18:16:13.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.1975ms
2025-04-11 18:16:14.014 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:16:14.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.7405ms
2025-04-11 18:16:23.412 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - null null
2025-04-11 18:16:23.424 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 18:16:23.447 +02:00 [INF] Route matched with {action = "GetAllReservations", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReservations(System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:16:23.594 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:16:23.608 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
LEFT JOIN [Rooms] AS [r] ON [h0].[HotelId] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [h0].[HotelId] = [d].[HotelId]
ORDER BY [h].[HotelReservationId], [h0].[HotelId], [r].[RoomId]
2025-04-11 18:16:23.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TICKIFY.Data.Entities.HotelReservations, TICKIFY.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TICKIFY.API.Contracts.HotelReservations.ReservationRes, TICKIFY.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-11 18:16:23.781 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API) in 326.5667ms
2025-04-11 18:16:23.784 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetAllReservations (TICKIFY.API)'
2025-04-11 18:16:23.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/get-all-reservations - 200 null application/json; charset=utf-8 378.0572ms
2025-04-11 18:16:39.878 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - null null
2025-04-11 18:16:39.886 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:16:39.891 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:16:39.965 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:16:40.000 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 18:16:40.008 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:16:40.011 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 116.678ms
2025-04-11 18:16:40.013 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:16:40.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 136.3304ms
2025-04-11 18:17:24.551 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 257
2025-04-11 18:17:24.559 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:17:24.562 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:17:24.567 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:17:24.596 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:17:24.758 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 188.0747ms
2025-04-11 18:17:24.761 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:17:24.763 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The property 'HotelReservations.HotelReservationId' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TICKIFY.API.Services.Implementations.HotelReservationServices.UpdateReservationAsync(Int32 id, ReservationReq reservationReq, HotelReservations reservation, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Services\Implementations\HotelReservationServices.cs:line 157
   at TICKIFY.API.Controllers.HotelReservationController.UpdateReservation(Int32 id, ReservationReq reservationReq, CancellationToken cancellationToken) in D:\my programmes\TICKIFY\TICKIFY.API\Controllers\HotelReservationController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-11 18:17:24.793 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 500 null text/plain; charset=utf-8 241.9186ms
2025-04-11 18:24:44.390 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:24:44.465 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:24:44.476 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:24:44.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:24:44.494 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:24:44.513 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:24:44.519 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:24:44.776 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:24:44.801 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:24:44.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:24:44.820 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:24:44.824 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:24:45.085 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:24:45.144 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:24:45.147 +02:00 [INF] Hosting environment: Development
2025-04-11 18:24:45.149 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:24:45.362 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:24:45.583 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 227.6367ms
2025-04-11 18:24:45.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:24:45.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:24:45.611 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.4405ms
2025-04-11 18:24:45.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.1081ms
2025-04-11 18:24:45.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:24:45.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.025ms
2025-04-11 18:24:58.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - null null
2025-04-11 18:24:58.383 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:24:58.413 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:24:58.598 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:24:58.644 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 18:24:58.823 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:24:58.835 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 414.6896ms
2025-04-11 18:24:58.838 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:24:58.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 477.2336ms
2025-04-11 18:25:26.606 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 233
2025-04-11 18:25:26.616 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:25:26.619 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:25:26.626 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:25:26.700 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:25:26.782 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HotelReservations] SET [CheckInDate] = @p0, [CheckOutDate] = @p1, [Email] = @p2, [GuestName] = @p3, [HotelId] = @p4, [Phone] = @p5, [RoomId] = @p6, [Status] = @p7
OUTPUT 1
WHERE [HotelReservationId] = @p8;
2025-04-11 18:26:30.599 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:26:30.677 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:26:30.688 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:26:30.692 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:26:30.711 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:26:30.732 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:26:30.737 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:26:30.988 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:26:31.015 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:26:31.023 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:26:31.037 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:26:31.043 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:26:31.290 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:26:31.372 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:26:31.375 +02:00 [INF] Hosting environment: Development
2025-04-11 18:26:31.377 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:26:31.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:26:31.783 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 232.5099ms
2025-04-11 18:26:31.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:26:31.791 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:26:31.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.2071ms
2025-04-11 18:26:31.833 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.5303ms
2025-04-11 18:26:31.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:26:31.966 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.4472ms
2025-04-11 18:26:43.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - null null
2025-04-11 18:26:43.685 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:26:43.710 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:26:43.881 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:26:43.921 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 18:26:44.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:26:44.094 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 377.5862ms
2025-04-11 18:26:44.097 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:26:44.102 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 429.9084ms
2025-04-11 18:27:14.806 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 245
2025-04-11 18:27:14.813 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:27:14.815 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:27:14.820 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:27:14.843 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:27:14.862 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 37.2146ms
2025-04-11 18:27:14.865 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:27:14.866 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 61.8335ms
2025-04-11 18:27:24.226 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 244
2025-04-11 18:27:24.233 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:27:24.234 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:27:24.236 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:27:24.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:27:24.385 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HotelReservations] SET [CheckInDate] = @p0, [CheckOutDate] = @p1, [Email] = @p2, [GuestName] = @p3, [HotelId] = @p4, [Phone] = @p5, [RoomId] = @p6, [Status] = @p7
OUTPUT 1
WHERE [HotelReservationId] = @p8;
2025-04-11 18:30:18.121 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:30:18.194 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:30:18.205 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:30:18.209 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:30:18.225 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:30:18.245 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:30:18.249 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:30:18.512 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:30:18.536 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:30:18.545 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:30:18.555 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:30:18.558 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:30:18.818 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:30:18.870 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:30:18.872 +02:00 [INF] Hosting environment: Development
2025-04-11 18:30:18.873 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:30:19.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:30:19.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 222.1144ms
2025-04-11 18:30:19.243 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:30:19.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:30:19.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 17.2744ms
2025-04-11 18:30:19.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.4192ms
2025-04-11 18:30:19.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:30:19.438 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.7226ms
2025-04-11 18:30:46.395 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 227
2025-04-11 18:30:46.411 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:30:46.417 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:30:46.441 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.ReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:30:46.493 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:30:46.516 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 69.0403ms
2025-04-11 18:30:46.519 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:30:46.522 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 127.1483ms
2025-04-11 18:33:02.959 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:33:03.034 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:33:03.046 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:33:03.051 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:33:03.065 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:33:03.084 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:33:03.089 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:33:03.349 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:33:03.372 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:33:03.381 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:33:03.391 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:33:03.394 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:33:03.638 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:33:03.729 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:33:03.732 +02:00 [INF] Hosting environment: Development
2025-04-11 18:33:03.734 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:33:03.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:33:04.162 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 228.229ms
2025-04-11 18:33:04.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:33:04.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:33:04.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 19.7666ms
2025-04-11 18:33:04.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.4955ms
2025-04-11 18:33:04.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:33:04.339 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.4367ms
2025-04-11 18:33:25.414 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 227
2025-04-11 18:33:25.432 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:33:25.437 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:33:25.461 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:33:25.536 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:33:25.561 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 93.3717ms
2025-04-11 18:33:25.564 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:33:25.566 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 151.7073ms
2025-04-11 18:34:34.759 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:34:34.836 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:34:34.848 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:34:34.851 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:34:34.867 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:34:34.889 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:34:34.893 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:34:35.159 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:34:35.183 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:34:35.193 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:34:35.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:34:35.206 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:34:35.458 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:34:35.513 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:34:35.521 +02:00 [INF] Hosting environment: Development
2025-04-11 18:34:35.524 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:34:35.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:34:36.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 228.0668ms
2025-04-11 18:34:36.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:34:36.023 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:34:36.038 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 14.6059ms
2025-04-11 18:34:36.077 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.2033ms
2025-04-11 18:34:36.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:34:36.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.6168ms
2025-04-11 18:35:31.522 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 227
2025-04-11 18:35:31.543 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:35:31.550 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:35:31.581 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:35:31.663 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:35:31.687 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 99.9767ms
2025-04-11 18:35:31.690 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:35:31.693 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 170.4438ms
2025-04-11 18:36:32.668 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 231
2025-04-11 18:36:32.675 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:36:32.680 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:36:32.682 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:36:32.687 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:36:32.691 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 6.1703ms
2025-04-11 18:36:32.693 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:36:32.694 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 26.0112ms
2025-04-11 18:37:59.546 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 233
2025-04-11 18:37:59.553 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:37:59.555 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:37:59.557 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:37:59.563 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:37:59.566 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 5.7312ms
2025-04-11 18:37:59.568 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:37:59.569 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 22.582ms
2025-04-11 18:43:31.201 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:43:31.274 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:43:31.284 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:43:31.288 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:43:31.303 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:43:31.323 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:43:31.327 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:43:31.581 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:43:31.606 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:43:31.615 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:43:31.625 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:43:31.629 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:43:31.874 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:43:31.922 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:43:31.930 +02:00 [INF] Hosting environment: Development
2025-04-11 18:43:31.932 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:43:32.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:43:32.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 211.6942ms
2025-04-11 18:43:32.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:43:32.683 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:43:32.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 11.7139ms
2025-04-11 18:43:32.725 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.2922ms
2025-04-11 18:43:32.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:43:32.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.0728ms
2025-04-11 18:44:30.187 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 233
2025-04-11 18:44:30.207 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:44:30.213 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:44:30.237 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:44:30.317 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:44:30.338 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 93.8795ms
2025-04-11 18:44:30.341 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:44:30.344 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 157.7629ms
2025-04-11 18:45:02.277 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 233
2025-04-11 18:45:02.287 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:45:02.289 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:45:02.291 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:45:02.297 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:45:02.300 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 7.5568ms
2025-04-11 18:45:02.303 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:45:02.304 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 27.4281ms
2025-04-11 18:45:53.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - null null
2025-04-11 18:45:53.233 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:45:53.239 +02:00 [INF] Route matched with {action = "GetReservationById", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReservationById(Int32, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:45:53.381 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-11 18:45:53.420 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[HotelId0], [t].[Location], [t].[Name], [t].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId] AS [HotelId0], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[HotelId0] = [r].[HotelId]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId0] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[HotelId0], [r].[RoomId]
2025-04-11 18:45:53.567 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:45:53.574 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API) in 331.9232ms
2025-04-11 18:45:53.577 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.GetReservationById (TICKIFY.API)'
2025-04-11 18:45:53.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 355.0297ms
2025-04-11 18:46:09.424 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 224
2025-04-11 18:46:09.433 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:46:09.435 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:46:09.439 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:46:09.443 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:46:09.446 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 4.2312ms
2025-04-11 18:46:09.448 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:46:09.449 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 25.3739ms
2025-04-11 18:49:54.356 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:49:54.429 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:49:54.439 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:49:54.443 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:49:54.459 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:49:54.478 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:49:54.482 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:49:54.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:49:54.761 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:49:54.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:49:54.779 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:49:54.783 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:49:55.036 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:49:55.088 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:49:55.097 +02:00 [INF] Hosting environment: Development
2025-04-11 18:49:55.099 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:49:55.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:49:55.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 219.8687ms
2025-04-11 18:49:55.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:49:55.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:49:55.903 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.725ms
2025-04-11 18:49:55.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.8185ms
2025-04-11 18:49:55.971 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:49:56.054 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.7177ms
2025-04-11 18:50:58.816 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 151
2025-04-11 18:50:58.830 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:50:58.835 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:50:58.860 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:50:58.925 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-11 18:50:58.949 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 82.9378ms
2025-04-11 18:50:58.952 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:50:58.955 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 400 null application/problem+json; charset=utf-8 139.7411ms
2025-04-11 18:51:36.768 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:51:36.840 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:51:36.854 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:51:36.860 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:51:36.876 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:51:36.894 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:51:36.898 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:51:37.153 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:51:37.176 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:51:37.185 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:51:37.195 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:51:37.199 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:51:37.464 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:51:37.517 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:51:37.523 +02:00 [INF] Hosting environment: Development
2025-04-11 18:51:37.525 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:51:38.054 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:51:38.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 207.9455ms
2025-04-11 18:51:38.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:51:38.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:51:38.284 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.4685ms
2025-04-11 18:51:38.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.0877ms
2025-04-11 18:51:38.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:51:38.434 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.725ms
2025-04-11 18:51:51.890 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 151
2025-04-11 18:51:51.901 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:51:51.906 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:51:51.932 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:51:52.126 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [HotelReservations] AS [h]
INNER JOIN [Rooms] AS [r] ON [h].[RoomId] = [r].[RoomId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:51:52.294 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HotelReservations] SET [CheckInDate] = @p0, [CheckOutDate] = @p1, [Email] = @p2, [GuestName] = @p3, [HotelId] = @p4, [Phone] = @p5, [RoomId] = @p6, [Status] = @p7
OUTPUT 1
WHERE [HotelReservationId] = @p8;
2025-04-11 18:51:52.314 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:51:52.325 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 385.734ms
2025-04-11 18:51:52.329 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:51:52.334 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 444.2575ms
2025-04-11 18:53:02.130 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:53:02.202 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:53:02.213 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 18:53:02.217 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 18:53:02.232 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 18:53:02.251 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 18:53:02.255 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 18:53:02.514 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:53:02.540 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:53:02.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:53:02.567 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 18:53:02.570 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 18:53:02.834 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 18:53:02.884 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 18:53:02.887 +02:00 [INF] Hosting environment: Development
2025-04-11 18:53:02.888 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 18:53:03.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 18:53:03.265 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 232.9956ms
2025-04-11 18:53:03.269 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 18:53:03.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 18:53:03.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 17.1668ms
2025-04-11 18:53:03.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.8373ms
2025-04-11 18:53:03.375 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 18:53:03.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.0101ms
2025-04-11 18:53:17.548 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 151
2025-04-11 18:53:17.560 +02:00 [INF] CORS policy execution successful.
2025-04-11 18:53:17.567 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:53:17.591 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 18:53:17.778 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [HotelReservations] AS [h]
INNER JOIN [Rooms] AS [r] ON [h].[RoomId] = [r].[RoomId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 18:53:17.950 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HotelReservations] SET [CheckInDate] = @p0, [CheckOutDate] = @p1, [Email] = @p2, [GuestName] = @p3, [HotelId] = @p4, [Phone] = @p5, [RoomId] = @p6, [Status] = @p7
OUTPUT 1
WHERE [HotelReservationId] = @p8;
2025-04-11 18:53:17.973 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 18:53:17.985 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 388.077ms
2025-04-11 18:53:17.989 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 18:53:17.994 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 446.7608ms
2025-04-11 19:00:52.391 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 19:00:52.464 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 19:00:52.477 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 19:00:52.481 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 19:00:52.503 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 19:00:52.522 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 19:00:52.527 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 19:00:52.780 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:00:52.804 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:00:52.813 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:00:52.822 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:00:52.827 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 19:00:53.071 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 19:00:53.118 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 19:00:53.127 +02:00 [INF] Hosting environment: Development
2025-04-11 19:00:53.128 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 19:00:53.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 19:00:53.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 206.7535ms
2025-04-11 19:00:53.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 19:00:53.982 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 19:00:53.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.9661ms
2025-04-11 19:00:54.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.8799ms
2025-04-11 19:00:54.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 19:00:54.153 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.009ms
2025-04-11 19:01:48.083 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 153
2025-04-11 19:01:48.097 +02:00 [INF] CORS policy execution successful.
2025-04-11 19:01:48.102 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 19:01:48.125 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 19:01:48.328 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [h0].[HotelId], [h0].[Location], [h0].[Name], [h0].[StarRating], [r].[RoomId], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId], [r].[PricePerNight], [r].[RoomNumber], [r].[Status], [r].[Type]
FROM [HotelReservations] AS [h]
INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
INNER JOIN [Rooms] AS [r] ON [h].[RoomId] = [r].[RoomId]
WHERE [h].[HotelReservationId] = @__id_0
2025-04-11 19:01:48.503 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HotelReservations] SET [CheckInDate] = @p0, [CheckOutDate] = @p1, [Email] = @p2, [GuestName] = @p3, [HotelId] = @p4, [Phone] = @p5, [RoomId] = @p6, [Status] = @p7
OUTPUT 1
WHERE [HotelReservationId] = @p8;
2025-04-11 19:01:48.524 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 19:01:48.536 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 404.6453ms
2025-04-11 19:01:48.539 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 19:01:48.544 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 460.4942ms
2025-04-11 19:07:21.326 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 19:07:21.398 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 19:07:21.409 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-11 19:07:21.413 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-04-11 19:07:21.434 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-04-11 19:07:21.454 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-04-11 19:07:21.459 +02:00 [INF] Migrations Applied Successfully.
2025-04-11 19:07:21.708 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Hotels] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:07:21.731 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:07:21.740 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Drivers] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:07:21.750 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HotelReservations] AS [h]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-11 19:07:21.753 +02:00 [INF] Data Seeding Completed Successfully.
2025-04-11 19:07:22.051 +02:00 [INF] Now listening on: http://localhost:5032
2025-04-11 19:07:22.097 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-11 19:07:22.106 +02:00 [INF] Hosting environment: Development
2025-04-11 19:07:22.107 +02:00 [INF] Content root path: D:\my programmes\TICKIFY\TICKIFY.API
2025-04-11 19:07:22.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/index.html - null null
2025-04-11 19:07:22.826 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/index.html - 200 null text/html;charset=utf-8 211.095ms
2025-04-11 19:07:22.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_vs/browserLink - null null
2025-04-11 19:07:22.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - null null
2025-04-11 19:07:22.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 15.5454ms
2025-04-11 19:07:22.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5884ms
2025-04-11 19:07:22.925 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - null null
2025-04-11 19:07:23.008 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5032/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.5075ms
2025-04-11 19:08:12.341 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - application/json 153
2025-04-11 19:08:12.357 +02:00 [INF] CORS policy execution successful.
2025-04-11 19:08:12.363 +02:00 [INF] Executing endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 19:08:12.387 +02:00 [INF] Route matched with {action = "UpdateReservation", controller = "HotelReservation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateReservation(Int32, TICKIFY.API.Contracts.HotelReservations.HotelReservationReq, System.Threading.CancellationToken) on controller TICKIFY.API.Controllers.HotelReservationController (TICKIFY.API).
2025-04-11 19:08:12.600 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[HotelReservationId], [t].[CheckInDate], [t].[CheckOutDate], [t].[Email], [t].[GuestName], [t].[HotelId], [t].[Phone], [t].[RoomId], [t].[Status], [t].[RoomId0], [t].[BedCount], [t].[DateIn], [t].[DateOut], [t].[HotelId0], [t].[PricePerNight], [t].[RoomNumber], [t].[Status0], [t].[Type], [t].[HotelId1], [t].[Location], [t].[Name], [t].[StarRating], [d].[DriverId], [d].[CarType], [d].[DriverName], [d].[HotelId], [d].[Price], [d].[StarRating]
FROM (
    SELECT TOP(1) [h].[HotelReservationId], [h].[CheckInDate], [h].[CheckOutDate], [h].[Email], [h].[GuestName], [h].[HotelId], [h].[Phone], [h].[RoomId], [h].[Status], [r].[RoomId] AS [RoomId0], [r].[BedCount], [r].[DateIn], [r].[DateOut], [r].[HotelId] AS [HotelId0], [r].[PricePerNight], [r].[RoomNumber], [r].[Status] AS [Status0], [r].[Type], [h0].[HotelId] AS [HotelId1], [h0].[Location], [h0].[Name], [h0].[StarRating]
    FROM [HotelReservations] AS [h]
    INNER JOIN [Rooms] AS [r] ON [h].[RoomId] = [r].[RoomId]
    INNER JOIN [Hotels] AS [h0] ON [h].[HotelId] = [h0].[HotelId]
    WHERE [h].[HotelReservationId] = @__id_0
) AS [t]
LEFT JOIN [Drivers] AS [d] ON [t].[HotelId1] = [d].[HotelId]
ORDER BY [t].[HotelReservationId], [t].[RoomId0], [t].[HotelId1]
2025-04-11 19:08:12.796 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 20), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [HotelReservations] SET [CheckInDate] = @p0, [CheckOutDate] = @p1, [Email] = @p2, [GuestName] = @p3, [HotelId] = @p4, [Phone] = @p5, [RoomId] = @p6, [Status] = @p7
OUTPUT 1
WHERE [HotelReservationId] = @p8;
2025-04-11 19:08:12.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'TICKIFY.API.Contracts.HotelReservations.ReservationRes'.
2025-04-11 19:08:12.828 +02:00 [INF] Executed action TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API) in 434.3024ms
2025-04-11 19:08:12.831 +02:00 [INF] Executed endpoint 'TICKIFY.API.Controllers.HotelReservationController.UpdateReservation (TICKIFY.API)'
2025-04-11 19:08:12.836 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5032/api/HotelReservation/1 - 200 null application/json; charset=utf-8 495.6934ms
